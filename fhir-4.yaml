components:
  responses:
    CapabilityResponse:
      description: the capability statement
      content:
        application/fhir+json:
          schema:
            $ref: 'https://fhir.opennz.org/CapabilityStatement'
          examples:
            emptyExample:
              summary: An example of an empty CapabilityStatement
              value:
                resourceType: CapabilityStatement
                id: base2
                text:
                  status: generated
                  div: "<div>!-- Snipped for Brevity --></div>"
                url: http://hl7.org/fhir/CapabilityStatement/base2
                version: 4.0.1
                name: Base FHIR Capability Statement (Empty)
                status: draft
                experimental: true
                date: "2019-11-01T09:29:23+11:00"
                publisher: FHIR Project Team
                contact:
                  - telecom:
                      - system: url
                        value: http://hl7.org/fhir
                description: >-
                  This is the base Capability Statement for FHIR. It represents a
                  server that provides none of the functionality defined by FHIR. It
                  is provided to use as a template for system designers to build
                  their own Capability Statements from. A capability statement has
                  to contain something, so this contains a read of a Capability
                  Statement
                kind: capability
                software:
                  name: Insert your software name here...
                fhirVersion: 4.0.1
                format:
                  - xml
                  - json
                rest:
                  - mode: server
                    documentation: An empty Capability Statement
                    security:
                      cors: true
                      service:
                        - coding:
                            - system: http://terminology.hl7.org/CodeSystem/restful-security-service
                              code: SMART-on-FHIR
                              display: SMART-on-FHIR
                          text: See http://docs.smarthealthit.org/
                      description: >-
                        This is the Capability Statement to declare that the server
                        supports SMART-on-FHIR. See the SMART-on-FHIR docs for the
                        extension that would go with such a server
                    resource:
                      - type: CapabilityStatement
                        interaction:
                          - code: read
                            documentation: Read CapabilityStatement Resource

    ListOfPrescribed:
      description: Bundle of Prescribed Medication
      content:
        application/fhir+json:
          schema:
            $ref: 'https://fhir.opennz.org/Bundle'
          examples:
            requestSummary:
              summary: "Medication Request Summary"
              value:
                resourceType: Bundle
                id: dd5139c8-4b02-4213-931e-70ac20b58019
                meta:
                  lastUpdated: '2024-05-27T20:22:52.548+00:00'
                type: searchset
                link:
                  - relation: self
                    url: https://hapi.fhir.org/baseR4/MedicationRequest
                  - relation: next
                    url: https://hapi.fhir.org/baseR4?_getpages=dd5139c8-4b02-4213-931e-70ac20b58019&_getpagesoffset=20&_count=20&_pretty=true&_bundletype=searchset
                entry:
                  - fullUrl: https://hapi.fhir.org/baseR4/MedicationRequest/39550
                    resource:
                      resourceType: MedicationRequest
                      id: '39550'
                      meta:
                        versionId: '1'
                        lastUpdated: '2019-10-03T08:23:16.555+00:00'
                        source: '#16603bb923676fa5'
                      identifier:
                        - type:
                            coding:
                              - system: http://hl7.org/fhir/v2/0203
                                code: MR
                                display: Medical record number
                          value: cdbd5b01-6cde-11db-9fe1-0800200c9a66
                      status: active
                      intent: proposal
                      medicationReference:
                        reference: Medication/39549
                      subject:
                        reference: Patient/39254
                      dosageInstruction:
                        - route:
                            coding:
                              - system: http://snomed.info/sct
                                code: '6064005'
                                display: Topical route (qualifier value)
                          doseAndRate:
                            - doseQuantity:
                                value: 1
                    search:
                      mode: match
                  - fullUrl: https://hapi.fhir.org/baseR4/MedicationRequest/39554
                    resource:
                      resourceType: MedicationRequest
                      id: '39554'
                      meta:
                        versionId: '1'
                        lastUpdated: '2019-10-03T08:23:16.555+00:00'
                        source: '#16603bb923676fa5'
                      identifier:
                        - type:
                            coding:
                              - system: http://hl7.org/fhir/v2/0203
                                code: MR
                                display: Medical record number
                          value: cdbd5b07-6cde-11db-9fe1-0800200c9a66
                      status: completed
                      intent: proposal
                      medicationReference:
                        reference: Medication/39553
                      subject:
                        reference: Patient/39254
                      dosageInstruction:
                        - route:
                            coding:
                              - system: http://snomed.info/sct
                                code: '6064005'
                                display: Topical route (qualifier value)
                          doseAndRate:
                            - doseQuantity:
                                value: 1
                    search:
                      mode: match

    ListOfDispensed:
      description: Bundle of Dispensed Medication
      content:
        application/fhir+json:
          schema:
            $ref: 'https://fhir.opennz.org/Bundle'
          examples:
            dispenseSummary:
              summary: "Medication Dispense Summary"
              value:
                resourceType: "Bundle"
                id: "2f043b3c-3633-413a-a7fb-0dc0d891ecab"
                meta:
                  lastUpdated: '2024-05-27T20:26:28.942+00:00'
                type: searchset
                link:
                  - relation: self
                    url: https://hapi.fhir.org/baseR4/MedicationDispense
                  - relation: next
                    url: https://hapi.fhir.org/baseR4?_getpages=2f043b3c-3633-413a-a7fb-0dc0d891ecab&_getpagesoffset=20&_count=20&_pretty=true&_bundletype=searchset
                entry:
                  - fullUrl: https://hapi.fhir.org/baseR4/MedicationDispense/30077

    MedicationRequestResponse:
      description: the resource being returned
      content:
        application/fhir+json:
          schema:
            $ref: 'https://fhir.opennz.org/MedicationRequest'
          examples:
            prescribedRID:
              summary: "Example Medication Prescribed"
              value:
                resourceType: MedicationRequest
                id: '39550'
                meta:
                  versionId: '1'
                  lastUpdated: '2019-10-03T08:23:16.555+00:00'
                  source: '#16603bb923676fa5'
                identifier:
                  - type:
                      coding:
                        - system: http://hl7.org/fhir/v2/0203
                          code: MR
                          display: Medical record number
                    value: cdbd5b01-6cde-11db-9fe1-0800200c9a66
                status: active
                intent: proposal
                medicationReference:
                  reference: Medication/39549
                subject:
                  reference: Patient/39254
                dosageInstruction:
                  - route:
                      coding:
                        - system: http://snomed.info/sct
                          code: '6064005'
                          display: Topical route (qualifier value)
                    doseAndRate:
                      - doseQuantity:
                          value: 1

    MedicationDispenseResponse:
      description: the resource being returned
      content:
        application/fhir+json:
          schema:
            $ref: 'https://fhir.opennz.org/MedicationDispense'
          examples:
            dispenseRID:
              summary: "Example Medication Dispense"
              value:
                resourceType: MedicationDispense
                id: '242641'
                meta:
                  versionId: '1'
                  lastUpdated: '2019-12-08T10:20:01.735+00:00'
                  source: '#p1RlgtlQnkaydknD'
                identifier:
                  - use: official
                  - system: http://www.bmc.nl/portal/medstatements
                    value: '12345689'

    BadRequestResponse:
      description: Bad request error. The request failed due to invalid input format or a validation error - retrying the request will not succeed
      content:
        application/fhir+json:
          schema:
            $ref: 'https://fhir.opennz.org/OperationOutcome'
          examples: 
            badRequest:
              summary: An example OperationOutcome payload when the requested resource is not found.
              value: {
                  "resourceType": "OperationOutcome",
                  "text": {
                      "status": "generated",
                      "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><h1>Operation Outcome</h1><table border=\"0\"><tr><td style=\"font-weight: bold;\">error</td><td>[]</td><td><pre>Bad Request</pre></td></tr></table></div>"
                  },
                  "issue": [
                      {
                          "severity": "error",
                          "code": "invalid",
                          "diagnostics": "{ResourceType}.subject.identifier.value - @value cannot be empty\n{ResourceType}.subject.identifier.value - ele-1: 'All FHIR elements must have a @value or children' failed"
                      }
                  ]
                }
    NotFoundResponse:
      description: Resource not found error. The request failed as the requested resource could not be found on the server.
      content:
        application/fhir+json:
          schema:
            $ref: 'https://fhir.opennz.org/OperationOutcome'
          examples:
            notFound:
              summary: An example OperationOutcome payload when the requested resource is not found.
              value: {
                  "resourceType": "OperationOutcome",
                  "text": {
                      "status": "generated",
                      "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><h1>Operation Outcome</h1><table border=\"0\"><tr><td style=\"font-weight: bold;\">error</td><td>[]</td><td><pre>Resource {ResourceType}/aaabbbbcccc is not known</pre></td></tr></table></div>"
                  },
                  "issue": [
                      {
                          "severity": "error",
                          "code": "not-found",
                          "diagnostics": "Resource Observation/3d7b5f7a-12da-411b-8948-37c07d247bb6 is not known"
                      }
                  ]
                }
    ServerErrorResponse:
      description: Server error
      content:
        application/fhir+json:
          schema:
            $ref: 'https://fhir.opennz.org/OperationOutcome'
    UnprocessableContentResponse:
      description: "Unprocessable Content"
      content: {}

  securitySchemes:
    api_key:
      type: "apiKey"
      name: "x-api-key"
      in: "header"
    oauth-client-credentials:
      type: oauth2
      description: Client credentials flow for system to system authentication
      flows:
        clientCredentials:
          tokenUrl: https://npd.auth.services.health.nz/realms/hnz-integration/protocol/openid-connect/token
          scopes:
            system/Medicine.r: Grant read access to Medicine resources

  parameters:
    rid:
      name: rid
      in: path
      description: id of the resource (=Resource.id)
      required: true
      allowEmptyValue: false
      style: simple
      schema:
        type: string
    summary:
      name: _summary
      in: query
      description: Requests the server to return a designated subset of the resource
      allowEmptyValue: true
      style: form
      schema:
        type: string
        enum:
          - 'true'
          - text
          - data
          - count
          - 'false'
    format:
      name: _format
      in: query
      description: 'Specify alternative response formats by their MIME-types (when a client is unable access accept: header)'
      allowEmptyValue: true
      style: form
      schema:
        type: string
        format: mime-type
    pretty:
      name: _pretty
      in: query
      description: Ask for a pretty printed response for human convenience
      allowEmptyValue: true
      style: form
      schema:
        type: boolean
        default: false
    elements:
      name: _elements
      in: query
      description: Requests the server to return a collection of elements from the resource
      allowEmptyValue: true
      style: form
      explode: false
      schema:
        type: array
        format: string
        items:
          format: string

    api_key:
      name: "x-api-key"
      in: "header"
      required: true
      schema:
        type: "string"
    X-Correlation-ID:
      name: "X-Correlation-ID"
      in: "header"
      description: trace end-to-end transactions moving through components in a distributed system
      required: false
      schema:
        type: "string"
    X-Request-Id:
      name: "X-Request-Id"
      in: "header"
      required: false
      schema:
        type: "string"

    _id:
      name: "_id"
      description: "Logical id of this artifact"
      in: "query"
      schema:
        type: "string"
    identifier:
      name: "identifier"
      description: "Return prescriptions with this external identifier (SCID Item Identifier)"
      in: "query"
      schema:
        type: "string"
      example: "nzf_3781"
    _lastUpdated:
      name: "_lastUpdated"
      in: "query"
      schema:
        $ref: 'https://fhir.opennz.org/Element'
    _security:
      name: "_security"
      description: "Security Labels applied to this resource"
      in: "query"
      schema:
        $ref: 'https://fhir.opennz.org/CapabilityStatement_Security'
    authoredon:
      name: "authoredon"
      description: "Return prescriptions written on this date"
      in: "query"
      schema:
        $ref: 'https://fhir.opennz.org/date'
    whenprepared:
      name: "whenprepared"
      description: "Returns dispenses prepared on this date"
      in: "query"
      schema:
        $ref: 'https://fhir.opennz.org/date'
    whenhandedover:
      name: "whenhandedover"
      description: "Returns dispenses handed over on this date"
      in: "query"
      schema:
        $ref: 'https://fhir.opennz.org/date'
    status:
      name: "status"
      description: "Status of the prescription"
      in: "query"
      schema:
        type: "string"
    patient:
      name: "patient"
      description: "Returns prescriptions for a specific patient (NHI)"
      in: "query"
      schema:
        $ref: 'https://fhir.opennz.org/Reference'

  schemas:
    Address:
      description: >-
        An address expressed using postal conventions (as opposed to GPS or other
        location definition formats).  This data type may be used to convey
        addresses for use in delivering mail as well as for visiting locations
        which might not be valid for mail delivery.  There are a variety of postal
        address formats defined around the world.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        use:
          description: The purpose of this address.
          enum:
            - home
            - work
            - temp
            - old
            - billing
        _use:
          # description: Extensions for use
          $ref: 'https://fhir.opennz.org/Element'
        type:
          description: >-
            Distinguishes between physical addresses (those you can visit) and
            mailing addresses (e.g. PO Boxes and care-of addresses). Most
            addresses are both.
          enum:
            - postal
            - physical
            - both
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        text:
          # description: >-
          #   Specifies the entire address as it should be displayed e.g. on a
          #   postal label. This may be provided instead of or as well as the
          #   specific parts.
          $ref: 'https://fhir.opennz.org/string'
        _text:
          # description: Extensions for text
          $ref: 'https://fhir.opennz.org/Element'
        line:
          description: >-
            This component contains the house number, apartment number, street
            name, street direction,  P.O. Box number, delivery hints, and similar
            address information.
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _line:
          description: Extensions for line
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        city:
          # description: >-
          #   The name of the city, town, suburb, village or other community or
          #   delivery center.
          $ref: 'https://fhir.opennz.org/string'
        _city:
          # description: Extensions for city
          $ref: 'https://fhir.opennz.org/Element'
        district:
          # description: The name of the administrative area (county).
          $ref: 'https://fhir.opennz.org/string'
        _district:
          # description: Extensions for district
          $ref: 'https://fhir.opennz.org/Element'
        state:
          # description: >-
          #   Sub-unit of a country with limited sovereignty in a federally
          #   organized country. A code may be used if codes are in common use (e.g.
          #   US 2 letter state codes).
          $ref: 'https://fhir.opennz.org/string'
        _state:
          # description: Extensions for state
          $ref: 'https://fhir.opennz.org/Element'
        postalCode:
          # description: A postal code designating a region defined by the postal service.
          $ref: 'https://fhir.opennz.org/string'
        _postalCode:
          # description: Extensions for postalCode
          $ref: 'https://fhir.opennz.org/Element'
        country:
          # description: Country - a nation as commonly understood or generally accepted.
          $ref: 'https://fhir.opennz.org/string'
        _country:
          # description: Extensions for country
          $ref: 'https://fhir.opennz.org/Element'
        period:
          # description: Time period when address was/is in use.
          $ref: 'https://fhir.opennz.org/Period'
      additionalProperties: false
    Age:
      description: A duration of time during which an organism (or a process) has existed.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        value:
          # description: >-
          #   The value of the measured amount. The value includes an implicit
          #   precision in the presentation of the value.
          $ref: 'https://fhir.opennz.org/decimal'
        _value:
          # description: Extensions for value
          $ref: 'https://fhir.opennz.org/Element'
        comparator:
          description: >-
            How the value should be understood and represented - whether the
            actual value is greater or less than the stated value due to
            measurement issues; e.g. if the comparator is "<" , then the real
            value is < stated value.
          enum:
            - <
            - <=
            - '>='
            - '>'
        _comparator:
          # description: Extensions for comparator
          $ref: 'https://fhir.opennz.org/Element'
        unit:
          # description: A human-readable form of the unit.
          $ref: 'https://fhir.opennz.org/string'
        _unit:
          # description: Extensions for unit
          $ref: 'https://fhir.opennz.org/Element'
        system:
          # description: >-
          #   The identification of the system that provides the coded form of the
          #   unit.
          $ref: 'https://fhir.opennz.org/uri'
        _system:
          # description: Extensions for system
          $ref: 'https://fhir.opennz.org/Element'
        code:
          # description: >-
          #   A computer processable form of the unit in some unit representation
          #   system.
          $ref: 'https://fhir.opennz.org/code'
        _code:
          # description: Extensions for code
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    Annotation:
      description: >-
        A  text note which also  contains information about who made the statement
        and when.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        authorReference:
          # description: The individual responsible for making the annotation.
          $ref: 'https://fhir.opennz.org/Reference'
        authorString:
          description: The individual responsible for making the annotation.
          pattern: ^[ \r\n\t\S]+$
          type: string
        _authorString:
          # description: Extensions for authorString
          $ref: 'https://fhir.opennz.org/Element'
        time:
          # description: Indicates when this particular annotation was made.
          $ref: 'https://fhir.opennz.org/dateTime'
        _time:
          # description: Extensions for time
          $ref: 'https://fhir.opennz.org/Element'
        text:
          # description: The text of the annotation in markdown format.
          $ref: 'https://fhir.opennz.org/markdown'
        _text:
          # description: Extensions for text
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false  
    Attachment:
      description: For referring to data content defined in other formats.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        contentType:
          # description: >-
          #   Identifies the type of the data in the attachment and allows a method
          #   to be chosen to interpret or render the data. Includes mime type
          #   parameters such as charset where appropriate.
          $ref: 'https://fhir.opennz.org/code'
        _contentType:
          # description: Extensions for contentType
          $ref: 'https://fhir.opennz.org/Element'
        language:
          # description: >-
          #   The human language of the content. The value can be any valid value
          #   according to BCP 47.
          $ref: 'https://fhir.opennz.org/code'
        _language:
          # description: Extensions for language
          $ref: 'https://fhir.opennz.org/Element'
        data:
          # description: >-
          #   The actual data of the attachment - a sequence of bytes, base64
          #   encoded.
          $ref: 'https://fhir.opennz.org/base64Binary'
        _data:
          # description: Extensions for data
          $ref: 'https://fhir.opennz.org/Element'
        url:
          # description: A location where the data can be accessed.
          $ref: 'https://fhir.opennz.org/url'
        _url:
          # description: Extensions for url
          $ref: 'https://fhir.opennz.org/Element'
        size:
          # description: >-
          #   The number of bytes of data that make up this attachment (before
          #   base64 encoding, if that is done).
          $ref: 'https://fhir.opennz.org/unsignedInt'
        _size:
          # description: Extensions for size
          $ref: 'https://fhir.opennz.org/Element'
        hash:
          # description: The calculated hash of the data using SHA-1. Represented using base64.
          $ref: 'https://fhir.opennz.org/base64Binary'
        _hash:
          # description: Extensions for hash
          $ref: 'https://fhir.opennz.org/Element'
        title:
          # description: A label or set of text to display in place of the data.
          $ref: 'https://fhir.opennz.org/string'
        _title:
          # description: Extensions for title
          $ref: 'https://fhir.opennz.org/Element'
        creation:
          # description: The date that the attachment was first created.
          $ref: 'https://fhir.opennz.org/dateTime'
        _creation:
          # description: Extensions for creation
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false


    base64Binary:
      type: string
      description: A stream of bytes
    boolean:
      pattern: ^true|false$
      type: boolean
      description: Value of "true" or "false"

    Bundle:
      description: A container for a collection of resources.
      properties:
        resourceType:
          description: This is a Bundle resource
          # const: Bundle
        id:
          # description: >-
          #   The logical id of the resource, as used in the URL for the resource.
          #   Once assigned, this value never changes.
          $ref: 'https://fhir.opennz.org/id'
        meta:
          # description: >-
          #   The metadata about the resource. This is content that is maintained by
          #   the infrastructure. Changes to the content might not always be
          #   associated with version changes to the resource.
          $ref: 'https://fhir.opennz.org/Meta'
        implicitRules:
          # description: >-
          #   A reference to a set of rules that were followed when the resource was
          #   constructed, and which must be understood when processing the content.
          #   Often, this is a reference to an implementation guide that defines the
          #   special rules along with other profiles etc.
          $ref: 'https://fhir.opennz.org/uri'
        _implicitRules:
          # description: Extensions for implicitRules
          $ref: 'https://fhir.opennz.org/Element'
        language:
          # description: The base language in which the resource is written.
          $ref: 'https://fhir.opennz.org/code'
        _language:
          # description: Extensions for language
          $ref: 'https://fhir.opennz.org/Element'
        identifier:
          # description: >-
          #   A persistent identifier for the bundle that won't change as a bundle
          #   is copied from server to server.
          $ref: 'https://fhir.opennz.org/Identifier'
        type:
          description: Indicates the purpose of this bundle - how it is intended to be used.
          enum:
            - document
            - message
            - transaction
            - transaction-response
            - batch
            - batch-response
            - history
            - searchset
            - collection
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        timestamp:
          # description: >-
          #   The date/time that the bundle was assembled - i.e. when the resources
          #   were placed in the bundle.
          $ref: 'https://fhir.opennz.org/instant'
        _timestamp:
          # description: Extensions for timestamp
          $ref: 'https://fhir.opennz.org/Element'
        total:
          # description: >-
          #   If a set of search matches, this is the total number of entries of
          #   type 'match' across all pages in the search.  It does not include
          #   search.mode = 'include' or 'outcome' entries and it does not provide a
          #   count of the number of entries in the Bundle.
          $ref: 'https://fhir.opennz.org/unsignedInt'
        _total:
          # description: Extensions for total
          $ref: 'https://fhir.opennz.org/Element'
        link:
          description: A series of links that provide context to this bundle.
          items:
            $ref: 'https://fhir.opennz.org/Bundle_Link'
          type: array
        entry:
          description: >-
            An entry in a bundle resource - will either contain a resource or
            information about a resource (transactions and history only).
          items:
            $ref: 'https://fhir.opennz.org/Bundle_Entry'
          type: array
        signature:
          # description: Digital Signature - base64 encoded. XML-DSig or a JWT.
          $ref: 'https://fhir.opennz.org/Signature'
      additionalProperties: false
      required:
        - resourceType
    Bundle_Link:
      description: A container for a collection of resources.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          # description: >-
          #   May be used to represent additional information that is not part of
          #   the basic definition of the element. To make the use of extensions
          #   safe and manageable, there is a strict set of governance  applied to
          #   the definition and use of extensions. Though any implementer can
          #   define an extension, there is a set of requirements that SHALL be met
          #   as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        relation:
          # description: >-
          #   A name which details the functional use for this link - see
          #   [http://www.iana.org/assignments/link-relations/link-relations.xhtml#link-relations-1](http://www.iana.org/assignments/link-relations/link-relations.xhtml#link-relations-1).
          $ref: 'https://fhir.opennz.org/string'
        _relation:
          # description: Extensions for relation
          $ref: 'https://fhir.opennz.org/Element'
        url:
          # description: The reference details for the link.
          $ref: 'https://fhir.opennz.org/uri'
        _url:
          # description: Extensions for url
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    Bundle_Entry:
      description: A container for a collection of resources.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        link:
          description: A series of links that provide context to this entry.
          items:
            $ref: 'https://fhir.opennz.org/Bundle_Link'
          type: array
        fullUrl:
          # description: >-
          #   The Absolute URL for the resource.  The fullUrl SHALL NOT disagree
          #   with the id in the resource - i.e. if the fullUrl is not a urn:uuid,
          #   the URL shall be version-independent URL consistent with the
          #   Resource.id. The fullUrl is a version independent reference to the
          #   resource. The fullUrl element SHALL have a value except that: 

          #   * fullUrl can be empty on a POST (although it does not need to when
          #   specifying a temporary id for reference in the bundle)

          #   * Results from operations might involve resources that are not
          #   identified.
          $ref: 'https://fhir.opennz.org/uri'
        _fullUrl:
          # description: Extensions for fullUrl
          $ref: 'https://fhir.opennz.org/Element'
        resource:
          # description: >-
          #   The Resource for the entry. The purpose/meaning of the resource is
          #   determined by the Bundle.type.
          $ref: 'https://fhir.opennz.org/ResourceList'
        search:
          # description: >-
          #   Information about the search process that lead to the creation of this
          #   entry.
          $ref: 'https://fhir.opennz.org/Bundle_Search'
        request:
          # description: >-
          #   Additional information about how this entry should be processed as
          #   part of a transaction or batch.  For history, it shows how the entry
          #   was processed to create the version contained in the entry.
          $ref: 'https://fhir.opennz.org/Bundle_Request'
        response:
          # description: >-
          #   Indicates the results of processing the corresponding 'request' entry
          #   in the batch or transaction being responded to or what the results of
          #   an operation where when returning history.
          $ref: 'https://fhir.opennz.org/Bundle_Response'
      additionalProperties: false
    Bundle_Search:
      description: A container for a collection of resources.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        mode:
          description: >-
            Why this entry is in the result set - whether it's included as a match
            or because of an _include requirement, or to convey information or
            warning information about the search process.
          enum:
            - match
            - include
            - outcome
        _mode:
          # description: Extensions for mode
          $ref: 'https://fhir.opennz.org/Element'
        score:
          # description: When searching, the server's search ranking score for the entry.
          $ref: 'https://fhir.opennz.org/decimal'
        _score:
          # description: Extensions for score
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    Bundle_Request:
      description: A container for a collection of resources.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        method:
          description: >-
            In a transaction or batch, this is the HTTP action to be executed for
            this entry. In a history bundle, this indicates the HTTP action that
            occurred.
          enum:
            - GET
            - HEAD
            - POST
            - PUT
            - DELETE
            - PATCH
        _method:
          # description: Extensions for method
          $ref: 'https://fhir.opennz.org/Element'
        url:
          # description: >-
          #   The URL for this entry, relative to the root (the address to which the
          #   request is posted).
          $ref: 'https://fhir.opennz.org/uri'
        _url:
          # description: Extensions for url
          $ref: 'https://fhir.opennz.org/Element'
        ifNoneMatch:
          # description: >-
          #   If the ETag values match, return a 304 Not Modified status. See the
          #   API documentation for ["Conditional Read"](http.html#cread).
          $ref: 'https://fhir.opennz.org/string'
        _ifNoneMatch:
          # description: Extensions for ifNoneMatch
          $ref: 'https://fhir.opennz.org/Element'
        ifModifiedSince:
          # description: >-
          #   Only perform the operation if the last updated date matches. See the
          #   API documentation for ["Conditional Read"](http.html#cread).
          $ref: 'https://fhir.opennz.org/instant'
        _ifModifiedSince:
          # description: Extensions for ifModifiedSince
          $ref: 'https://fhir.opennz.org/Element'
        ifMatch:
          # description: >-
          #   Only perform the operation if the Etag value matches. For more
          #   information, see the API section ["Managing Resource
          #   Contention"](http.html#concurrency).
          $ref: 'https://fhir.opennz.org/string'
        _ifMatch:
          # description: Extensions for ifMatch
          $ref: 'https://fhir.opennz.org/Element'
        ifNoneExist:
          # description: >-
          #   Instruct the server not to perform the create if a specified resource
          #   already exists. For further information, see the API documentation for
          #   ["Conditional Create"](http.html#ccreate). This is just the query
          #   portion of the URL - what follows the "?" (not including the "?").
          $ref: 'https://fhir.opennz.org/string'
        _ifNoneExist:
          # description: Extensions for ifNoneExist
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    Bundle_Response:
      description: A container for a collection of resources.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        status:
          # description: >-
          #   The status code returned by processing this entry. The status SHALL
          #   start with a 3 digit HTTP code (e.g. 404) and may contain the standard
          #   HTTP description associated with the status code.
          $ref: 'https://fhir.opennz.org/string'
        _status:
          # description: Extensions for status
          $ref: 'https://fhir.opennz.org/Element'
        location:
          # description: >-
          #   The location header created by processing this operation, populated if
          #   the operation returns a location.
          $ref: 'https://fhir.opennz.org/uri'
        _location:
          # description: Extensions for location
          $ref: 'https://fhir.opennz.org/Element'
        etag:
          # description: >-
          #   The Etag for the resource, if the operation for the entry produced a
          #   versioned resource (see [Resource Metadata and
          #   Versioning](http.html#versioning) and [Managing Resource
          #   Contention](http.html#concurrency)).
          $ref: 'https://fhir.opennz.org/string'
        _etag:
          # description: Extensions for etag
          $ref: 'https://fhir.opennz.org/Element'
        lastModified:
          # description: The date/time that the resource was modified on the server.
          $ref: 'https://fhir.opennz.org/instant'
        _lastModified:
          # description: Extensions for lastModified
          $ref: 'https://fhir.opennz.org/Element'
        outcome:
          # description: >-
          #   An OperationOutcome containing hints and warnings produced as part of
          #   processing this entry in a batch or transaction.
          $ref: 'https://fhir.opennz.org/ResourceList'
      additionalProperties: false

    canonical:
      pattern: ^\S*$
      type: string
      description: A URI that is a reference to a canonical URL on a FHIR resource
    code:
      pattern: "^[^\\s]+(\\s[^\\s]+)*$"
      type: "string"
      description: "A string which has at least one character and no leading or trailing whitespace and where there is no whitespace other than single spaces in the contents"
    CapabilityStatement_Document:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        mode:
          description: >-
            Mode of this document declaration - whether an application is a
            producer or consumer.
          enum:
            - producer
            - consumer
        _mode:
          # description: Extensions for mode
          $ref: 'https://fhir.opennz.org/Element'
        documentation:
          # description: >-
          #   A description of how the application supports or uses the specified
          #   document profile.  For example, when documents are created, what
          #   action is taken with consumed documents, etc.
          $ref: 'https://fhir.opennz.org/markdown'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
        profile:
          # description: >-
          #   A profile on the document Bundle that constrains which resources are
          #   present, and their contents.
          $ref: 'https://fhir.opennz.org/canonical'
      additionalProperties: false
      required:
        - profile
    CapabilityStatement_Endpoint:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        protocol:
          # description: >-
          #   A list of the messaging transport protocol(s) identifiers, supported
          #   by this endpoint.
          $ref: 'https://fhir.opennz.org/Coding'
        address:
          # description: >-
          #   The network address of the endpoint. For solutions that do not use
          #   network addresses for routing, it can be just an identifier.
          $ref: 'https://fhir.opennz.org/url'
        _address:
          # description: Extensions for address
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
      required:
        - protocol
    CapabilityStatement_Implementation:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        description:
          # description: >-
          #   Information about the specific installation that this capability
          #   statement relates to.
          $ref: 'https://fhir.opennz.org/string'
        _description:
          # description: Extensions for description
          $ref: 'https://fhir.opennz.org/Element'
        url:
          # description: >-
          #   An absolute base URL for the implementation.  This forms the base for
          #   REST interfaces as well as the mailbox and document interfaces.
          $ref: 'https://fhir.opennz.org/url'
        _url:
          # description: Extensions for url
          $ref: 'https://fhir.opennz.org/Element'
        custodian:
          # description: >-
          #   The organization responsible for the management of the instance and
          #   oversight of the data on the server at the specified URL.
          $ref: 'https://fhir.opennz.org/Reference'
      additionalProperties: false
    CapabilityStatement_Messaging:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        endpoint:
          description: >-
            An endpoint (network accessible address) to which messages and/or
            replies are to be sent.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Endpoint'
          type: array
        reliableCache:
          # description: >-
          #   Length if the receiver's reliable messaging cache in minutes (if a
          #   receiver) or how long the cache length on the receiver should be (if a
          #   sender).
          $ref: 'https://fhir.opennz.org/unsignedInt'
        _reliableCache:
          # description: Extensions for reliableCache
          $ref: 'https://fhir.opennz.org/Element'
        documentation:
          # description: >-
          #   Documentation about the system's messaging capabilities for this
          #   endpoint not otherwise documented by the capability statement.  For
          #   example, the process for becoming an authorized messaging exchange
          #   partner.
          $ref: 'https://fhir.opennz.org/markdown'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
        supportedMessage:
          description: >-
            References to message definitions for messages this system can send or
            receive.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_SupportedMessage'
          type: array
      additionalProperties: false
    CapabilityStatement_Interaction:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        code:
          description: Coded identifier of the operation, supported by the system resource.
          enum:
            - read
            - vread
            - update
            - patch
            - delete
            - history-instance
            - history-type
            - create
            - search-type
        _code:
          # description: Extensions for code
          $ref: 'https://fhir.opennz.org/Element'
        documentation:
          # description: >-
          #   Guidance specific to the implementation of this operation, such as
          #   'delete is a logical delete' or 'updates are only allowed with version
          #   id' or 'creates permitted from pre-authorized certificates only'.
          $ref: 'https://fhir.opennz.org/markdown'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    CapabilityStatement_Interaction1:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        code:
          description: A coded identifier of the operation, supported by the system.
          enum:
            - transaction
            - batch
            - search-system
            - history-system
        _code:
          # description: Extensions for code
          $ref: 'https://fhir.opennz.org/Element'
        documentation:
          # description: >-
          #   Guidance specific to the implementation of this operation, such as
          #   limitations on the kind of transactions allowed, or information about
          #   system wide search is implemented.
          $ref: 'https://fhir.opennz.org/markdown'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    CapabilityStatement_Operation:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        name:
          # description: >-
          #   The name of the operation or query. For an operation, this is the
          #   name  prefixed with $ and used in the URL. For a query, this is the
          #   name used in the _query parameter when the query is called.
          $ref: 'https://fhir.opennz.org/string'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        definition:
          # description: >-
          #   Where the formal definition can be found. If a server references the
          #   base definition of an Operation (i.e. from the specification itself
          #   such as
          #   ```http://hl7.org/fhir/OperationDefinition/ValueSet-expand```), that
          #   means it supports the full capabilities of the operation - e.g. both
          #   GET and POST invocation.  If it only supports a subset, it must define
          #   its own custom [[[OperationDefinition]]] with a 'base' of the original
          #   OperationDefinition.  The custom definition would describe the
          #   specific subset of functionality supported.
          $ref: 'https://fhir.opennz.org/canonical'
        documentation:
          # description: >-
          #   Documentation that describes anything special about the operation
          #   behavior, possibly detailing different behavior for system, type and
          #   instance-level invocation of the operation.
          $ref: 'https://fhir.opennz.org/markdown'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
      required:
        - definition
    CapabilityStatement_Resource:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        type:
          # description: A type of resource exposed via the restful interface.
          $ref: 'https://fhir.opennz.org/code'
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        profile:
          # description: >-
          #   A specification of the profile that describes the solution's overall
          #   support for the resource, including any constraints on cardinality,
          #   bindings, lengths or other limitations. See further discussion in
          #   [Using Profiles](profiling.html#profile-uses).
          $ref: 'https://fhir.opennz.org/canonical'
        supportedProfile:
          description: >-
            A list of profiles that represent different use cases supported by the
            system. For a server, "supported by the system" means the system
            hosts/produces a set of resources that are conformant to a particular
            profile, and allows clients that use its services to search using this
            profile and to find appropriate data. For a client, it means the
            system will search by this profile and process data according to the
            guidance implicit in the profile. See further discussion in [Using
            Profiles](profiling.html#profile-uses).
          items:
            $ref: 'https://fhir.opennz.org/canonical'
          type: array
        documentation:
          # description: Additional information about the resource type used by the system.
          $ref: 'https://fhir.opennz.org/markdown'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
        interaction:
          description: Identifies a restful operation supported by the solution.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Interaction'
          type: array
        versioning:
          description: >-
            This field is set to no-version to specify that the system does not
            support (server) or use (client) versioning for this resource type. If
            this has some other value, the server must at least correctly track
            and populate the versionId meta-property on resources. If the value is
            'versioned-update', then the server supports all the versioning
            features, including using e-tags for version integrity in the API.
          enum:
            - no-version
            - versioned
            - versioned-update
        _versioning:
          # description: Extensions for versioning
          $ref: 'https://fhir.opennz.org/Element'
        readHistory:
          # description: >-
          #   A flag for whether the server is able to return past versions as part
          #   of the vRead operation.
          $ref: 'https://fhir.opennz.org/boolean'
        _readHistory:
          # description: Extensions for readHistory
          $ref: 'https://fhir.opennz.org/Element'
        updateCreate:
          # description: >-
          #   A flag to indicate that the server allows or needs to allow the client
          #   to create new identities on the server (that is, the client PUTs to a
          #   location where there is no existing resource). Allowing this operation
          #   means that the server allows the client to create new identities on
          #   the server.
          $ref: 'https://fhir.opennz.org/boolean'
        _updateCreate:
          # description: Extensions for updateCreate
          $ref: 'https://fhir.opennz.org/Element'
        conditionalCreate:
          # description: A flag that indicates that the server supports conditional create.
          $ref: 'https://fhir.opennz.org/boolean'
        _conditionalCreate:
          # description: Extensions for conditionalCreate
          $ref: 'https://fhir.opennz.org/Element'
        conditionalRead:
          description: A code that indicates how the server supports conditional read.
          enum:
            - not-supported
            - modified-since
            - not-match
            - full-support
        _conditionalRead:
          # description: Extensions for conditionalRead
          $ref: 'https://fhir.opennz.org/Element'
        conditionalUpdate:
          # description: A flag that indicates that the server supports conditional update.
          $ref: 'https://fhir.opennz.org/boolean'
        _conditionalUpdate:
          # description: Extensions for conditionalUpdate
          $ref: 'https://fhir.opennz.org/Element'
        conditionalDelete:
          description: A code that indicates how the server supports conditional delete.
          enum:
            - not-supported
            - single
            - multiple
        _conditionalDelete:
          # description: Extensions for conditionalDelete
          $ref: 'https://fhir.opennz.org/Element'
        referencePolicy:
          description: A set of flags that defines how references are supported.
          items:
            enum:
              - literal
              - logical
              - resolves
              - enforced
              - local
          type: array
        _referencePolicy:
          description: Extensions for referencePolicy
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        searchInclude:
          description: A list of _include values supported by the server.
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _searchInclude:
          description: Extensions for searchInclude
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        searchRevInclude:
          description: >-
            A list of _revinclude (reverse include) values supported by the
            server.
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _searchRevInclude:
          description: Extensions for searchRevInclude
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        searchParam:
          description: >-
            Search parameters for implementations to support and/or make use of -
            either references to ones defined in the specification, or additional
            ones defined for/by the implementation.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_SearchParam'
          type: array
        operation:
          description: >-
            Definition of an operation or a named query together with its
            parameters and their meaning and type. Consult the definition of the
            operation for details about how to invoke the operation, and the
            parameters.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Operation'
          type: array
      additionalProperties: false
    CapabilityStatement_Rest:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        mode:
          description: >-
            Identifies whether this portion of the statement is describing the
            ability to initiate or receive restful operations.
          enum:
            - client
            - server
        _mode:
          # description: Extensions for mode
          $ref: 'https://fhir.opennz.org/Element'
        documentation:
          # description: >-
          #   Information about the system's restful capabilities that apply across
          #   all applications, such as security.
          $ref: 'https://fhir.opennz.org/markdown'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
        security:
          # description: >-
          #   Information about security implementation from an interface
          #   perspective - what a client needs to know.
          $ref: 'https://fhir.opennz.org/CapabilityStatement_Security'
        resource:
          description: >-
            A specification of the restful capabilities of the solution for a
            specific resource type.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Resource'
          type: array
        interaction:
          description: A specification of restful operations supported by the system.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Interaction1'
          type: array
        searchParam:
          description: >-
            Search parameters that are supported for searching all resources for
            implementations to support and/or make use of - either references to
            ones defined in the specification, or additional ones defined for/by
            the implementation.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_SearchParam'
          type: array
        operation:
          description: >-
            Definition of an operation or a named query together with its
            parameters and their meaning and type.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Operation'
          type: array
        compartment:
          description: >-
            An absolute URI which is a reference to the definition of a
            compartment that the system supports. The reference is to a
            CompartmentDefinition resource by its canonical URL .
          items:
            $ref: 'https://fhir.opennz.org/canonical'
          type: array
      additionalProperties: false
    CapabilityStatement_SearchParam:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        name:
          # description: The name of the search parameter used in the interface.
          $ref: 'https://fhir.opennz.org/string'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        definition:
          # description: >-
          #   An absolute URI that is a formal reference to where this parameter was
          #   first defined, so that a client can be confident of the meaning of the
          #   search parameter (a reference to [[[SearchParameter.url]]]). This
          #   element SHALL be populated if the search parameter refers to a
          #   SearchParameter defined by the FHIR core specification or externally
          #   defined IGs.
          $ref: 'https://fhir.opennz.org/canonical'
        type:
          description: >-
            The type of value a search parameter refers to, and how the content is
            interpreted.
          enum:
            - number
            - date
            - string
            - token
            - reference
            - composite
            - quantity
            - uri
            - special
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        documentation:
          # description: >-
          #   This allows documentation of any distinct behaviors about how the
          #   search parameter is used.  For example, text matching algorithms.
          $ref: 'https://fhir.opennz.org/markdown'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    CapabilityStatement_Security:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        cors:
          # description: >-
          #   Server adds CORS headers when responding to requests - this enables
          #   Javascript applications to use the server.
          $ref: 'https://fhir.opennz.org/boolean'
        _cors:
          # description: Extensions for cors
          $ref: 'https://fhir.opennz.org/Element'
        service:
          description: Types of security services that are supported/required by the system.
          items:
            $ref: 'https://fhir.opennz.org/CodeableConcept'
          type: array
        description:
          # description: General description of how security works.
          $ref: 'https://fhir.opennz.org/markdown'
        _description:
          # description: Extensions for description
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    CapabilityStatement_Software:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        name:
          # description: Name the software is known by.
          $ref: 'https://fhir.opennz.org/string'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        version:
          # description: The version identifier for the software covered by this statement.
          $ref: 'https://fhir.opennz.org/string'
        _version:
          # description: Extensions for version
          $ref: 'https://fhir.opennz.org/Element'
        releaseDate:
          # description: Date this version of the software was released.
          $ref: 'https://fhir.opennz.org/dateTime'
        _releaseDate:
          # description: Extensions for releaseDate
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    CapabilityStatement_SupportedMessage:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        mode:
          description: >-
            The mode of this event declaration - whether application is sender or
            receiver.
          enum:
            - sender
            - receiver
        _mode:
          # description: Extensions for mode
          $ref: 'https://fhir.opennz.org/Element'
        definition:
          # description: >-
          #   Points to a message definition that identifies the messaging event,
          #   message structure, allowed responses, etc.
          $ref: 'https://fhir.opennz.org/canonical'
      additionalProperties: false
      required:
        - definition
    CapabilityStatement:
      description: >-
        A Capability Statement documents a set of capabilities (behaviors) of a
        FHIR Server for a particular version of FHIR that may be used as a
        statement of actual server functionality or a statement of required or
        desired server implementation.
      properties:
        resourceType:
          description: This is a CapabilityStatement resource
          #const: CapabilityStatement
        id:
          # description: >-
          #   The logical id of the resource, as used in the URL for the resource.
          #   Once assigned, this value never changes.
          $ref: 'https://fhir.opennz.org/id'
        meta:
          # description: >-
          #   The metadata about the resource. This is content that is maintained by
          #   the infrastructure. Changes to the content might not always be
          #   associated with version changes to the resource.
          $ref: 'https://fhir.opennz.org/Meta'
        implicitRules:
          # description: >-
          #   A reference to a set of rules that were followed when the resource was
          #   constructed, and which must be understood when processing the content.
          #   Often, this is a reference to an implementation guide that defines the
          #   special rules along with other profiles etc.
          $ref: 'https://fhir.opennz.org/uri'
        _implicitRules:
          # description: Extensions for implicitRules
          $ref: 'https://fhir.opennz.org/Element'
        language:
          # description: The base language in which the resource is written.
          $ref: 'https://fhir.opennz.org/code'
        _language:
          # description: Extensions for language
          $ref: 'https://fhir.opennz.org/Element'
        text:
          # description: >-
          #   A human-readable narrative that contains a summary of the resource and
          #   can be used to represent the content of the resource to a human. The
          #   narrative need not encode all the structured data, but is required to
          #   contain sufficient detail to make it "clinically safe" for a human to
          #   just read the narrative. Resource definitions may define what content
          #   should be represented in the narrative to ensure clinical safety.
          $ref: 'https://fhir.opennz.org/Narrative'
        contained:
          description: >-
            These resources do not have an independent existence apart from the
            resource that contains them - they cannot be identified independently,
            and nor can they have their own independent transaction scope.
          items:
            $ref: 'https://fhir.opennz.org/ResourceList'
          type: array
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the resource. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the resource and that modifies the
            understanding of the element that contains it and/or the understanding
            of the containing element's descendants. Usually modifier elements
            provide negation or qualification. To make the use of extensions safe
            and manageable, there is a strict set of governance applied to the
            definition and use of extensions. Though any implementer is allowed to
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension. Applications processing a
            resource are required to check for modifier extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        url:
          # description: >-
          #   An absolute URI that is used to identify this capability statement
          #   when it is referenced in a specification, model, design or an
          #   instance; also called its canonical identifier. This SHOULD be
          #   globally unique and SHOULD be a literal address at which at which an
          #   authoritative instance of this capability statement is (or will be)
          #   published. This URL can be the target of a canonical reference. It
          #   SHALL remain the same when the capability statement is stored on
          #   different servers.
          $ref: 'https://fhir.opennz.org/uri'
        _url:
          # description: Extensions for url
          $ref: 'https://fhir.opennz.org/Element'
        version:
          # description: >-
          #   The identifier that is used to identify this version of the capability
          #   statement when it is referenced in a specification, model, design or
          #   instance. This is an arbitrary value managed by the capability
          #   statement author and is not expected to be globally unique. For
          #   example, it might be a timestamp (e.g. yyyymmdd) if a managed version
          #   is not available. There is also no expectation that versions can be
          #   placed in a lexicographical sequence.
          $ref: 'https://fhir.opennz.org/string'
        _version:
          # description: Extensions for version
          $ref: 'https://fhir.opennz.org/Element'
        name:
          # description: >-
          #   A natural language name identifying the capability statement. This
          #   name should be usable as an identifier for the module by machine
          #   processing applications such as code generation.
          $ref: 'https://fhir.opennz.org/string'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        title:
          # description: >-
          #   A short, descriptive, user-friendly title for the capability
          #   statement.
          $ref: 'https://fhir.opennz.org/string'
        _title:
          # description: Extensions for title
          $ref: 'https://fhir.opennz.org/Element'
        status:
          description: >-
            The status of this capability statement. Enables tracking the
            life-cycle of the content.
          enum:
            - draft
            - active
            - retired
            - unknown
        _status:
          # description: Extensions for status
          $ref: 'https://fhir.opennz.org/Element'
        experimental:
          # description: >-
          #   A Boolean value to indicate that this capability statement is authored
          #   for testing purposes (or education/evaluation/marketing) and is not
          #   intended to be used for genuine usage.
          $ref: 'https://fhir.opennz.org/boolean'
        _experimental:
          # description: Extensions for experimental
          $ref: 'https://fhir.opennz.org/Element'
        date:
          # description: >-
          #   The date  (and optionally time) when the capability statement was
          #   published. The date must change when the business version changes and
          #   it must change if the status code changes. In addition, it should
          #   change when the substantive content of the capability statement
          #   changes.
          $ref: 'https://fhir.opennz.org/dateTime'
        _date:
          # description: Extensions for date
          $ref: 'https://fhir.opennz.org/Element'
        publisher:
          # description: >-
          #   The name of the organization or individual that published the
          #   capability statement.
          $ref: 'https://fhir.opennz.org/string'
        _publisher:
          # description: Extensions for publisher
          $ref: 'https://fhir.opennz.org/Element'
        contact:
          description: >-
            Contact details to assist a user in finding and communicating with the
            publisher.
          items:
            $ref: 'https://fhir.opennz.org/ContactDetail'
          type: array
        description:
          # description: >-
          #   A free text natural language description of the capability statement
          #   from a consumer's perspective. Typically, this is used when the
          #   capability statement describes a desired rather than an actual
          #   solution, for example as a formal expression of requirements as part
          #   of an RFP.
          $ref: 'https://fhir.opennz.org/markdown'
        _description:
          # description: Extensions for description
          $ref: 'https://fhir.opennz.org/Element'
        useContext:
          description: >-
            The content was developed with a focus and intent of supporting the
            contexts that are listed. These contexts may be general categories
            (gender, age, ...) or may be references to specific programs
            (insurance plans, studies, ...) and may be used to assist with
            indexing and searching for appropriate capability statement instances.
          items:
            $ref: 'https://fhir.opennz.org/UsageContext'
          type: array
        jurisdiction:
          description: >-
            A legal or geographic region in which the capability statement is
            intended to be used.
          items:
            $ref: 'https://fhir.opennz.org/CodeableConcept'
          type: array
        purpose:
          # description: >-
          #   Explanation of why this capability statement is needed and why it has
          #   been designed as it has.
          $ref: 'https://fhir.opennz.org/markdown'
        _purpose:
          # description: Extensions for purpose
          $ref: 'https://fhir.opennz.org/Element'
        copyright:
          # description: >-
          #   A copyright statement relating to the capability statement and/or its
          #   contents. Copyright statements are generally legal restrictions on the
          #   use and publishing of the capability statement.
          $ref: 'https://fhir.opennz.org/markdown'
        _copyright:
          # description: Extensions for copyright
          $ref: 'https://fhir.opennz.org/Element'
        kind:
          description: >-
            The way that this statement is intended to be used, to describe an
            actual running instance of software, a particular product (kind, not
            instance of software) or a class of implementation (e.g. a desired
            purchase).
          enum:
            - instance
            - capability
            - requirements
        _kind:
          # description: Extensions for kind
          $ref: 'https://fhir.opennz.org/Element'
        instantiates:
          description: >-
            Reference to a canonical URL of another CapabilityStatement that this
            software implements. This capability statement is a published API
            description that corresponds to a business service. The server may
            actually implement a subset of the capability statement it claims to
            implement, so the capability statement must specify the full
            capability details.
          items:
            $ref: 'https://fhir.opennz.org/canonical'
          type: array
        imports:
          description: >-
            Reference to a canonical URL of another CapabilityStatement that this
            software adds to. The capability statement automatically includes
            everything in the other statement, and it is not duplicated, though
            the server may repeat the same resources, interactions and operations
            to add additional details to them.
          items:
            $ref: 'https://fhir.opennz.org/canonical'
          type: array
        software:
          # description: >-
          #   Software that is covered by this capability statement.  It is used
          #   when the capability statement describes the capabilities of a
          #   particular software version, independent of an installation.
          $ref: 'https://fhir.opennz.org/CapabilityStatement_Software'
        implementation:
          # description: >-
          #   Identifies a specific implementation instance that is described by the
          #   capability statement - i.e. a particular installation, rather than the
          #   capabilities of a software program.
          $ref: 'https://fhir.opennz.org/CapabilityStatement_Implementation'
        fhirVersion:
          description: >-
            The version of the FHIR specification that this CapabilityStatement
            describes (which SHALL be the same as the FHIR version of the
            CapabilityStatement itself). There is no default value.
          enum:
            - '0.01'
            - '0.05'
            - '0.06'
            - '0.11'
            - 0.0.80
            - 0.0.81
            - 0.0.82
            - 0.4.0
            - 0.5.0
            - 1.0.0
            - 1.0.1
            - 1.0.2
            - 1.1.0
            - 1.4.0
            - 1.6.0
            - 1.8.0
            - 3.0.0
            - 3.0.1
            - 3.3.0
            - 3.5.0
            - 4.0.0
            - 4.0.1
        _fhirVersion:
          # description: Extensions for fhirVersion
          $ref: 'https://fhir.opennz.org/Element'
        format:
          description: >-
            A list of the formats supported by this implementation using their
            content types.
          items:
            $ref: 'https://fhir.opennz.org/code'
          type: array
        _format:
          description: Extensions for format
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        patchFormat:
          description: >-
            A list of the patch formats supported by this implementation using
            their content types.
          items:
            $ref: 'https://fhir.opennz.org/code'
          type: array
        _patchFormat:
          description: Extensions for patchFormat
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        implementationGuide:
          description: >-
            A list of implementation guides that the server does (or should)
            support in their entirety.
          items:
            $ref: 'https://fhir.opennz.org/canonical'
          type: array
        rest:
          description: A definition of the restful capabilities of the solution, if any.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Rest'
          type: array
        messaging:
          description: A description of the messaging capabilities of the solution.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Messaging'
          type: array
        document:
          description: A document definition.
          items:
            $ref: 'https://fhir.opennz.org/CapabilityStatement_Document'
          type: array
      additionalProperties: false
      required:
        - resourceType
    CodeableConcept:
      type: "object"
      properties:
        coding:
          type: "array"
          description: "A reference to a code defined by a terminology system."
          items:
            $ref: "https://fhir.opennz.org/Coding"
        id:
          $ref: "https://fhir.opennz.org/string"
        text:
          $ref: "https://fhir.opennz.org/string"
      description: "A concept that may be defined by a formal reference to a terminology or ontology or may be provided by text."
    Coding:
      type: "object"
      properties:
        system:
          $ref: "https://fhir.opennz.org/uri"
        code:
          $ref: "https://fhir.opennz.org/code"
        display:
          $ref: "https://fhir.opennz.org/string"
        version:
          $ref: "https://fhir.opennz.org/string"
      description: "A reference to a code defined by a terminology system."
    ContactDetail:
      description: Specifies contact information for a person or organization.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        name:
          # description: The name of an individual to contact.
          $ref: 'https://fhir.opennz.org/string'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        telecom:
          description: >-
            The contact details for the individual (if a name was provided) or the
            organization.
          items:
            $ref: 'https://fhir.opennz.org/ContactPoint'
          type: array
      additionalProperties: false
    ContactPoint:
      description: >-
        Details for all kinds of technology mediated contact points for a person
        or organization, including telephone, email, etc.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        system:
          description: >-
            Telecommunications form for contact point - what communications system
            is required to make use of the contact.
          enum:
            - phone
            - fax
            - email
            - pager
            - url
            - sms
            - other
        _system:
          # description: Extensions for system
          $ref: 'https://fhir.opennz.org/Element'
        value:
          # description: >-
          #   The actual contact point details, in a form that is meaningful to the
          #   designated communication system (i.e. phone number or email address).
          $ref: 'https://fhir.opennz.org/string'
        _value:
          # description: Extensions for value
          $ref: 'https://fhir.opennz.org/Element'
        use:
          description: Identifies the purpose for the contact point.
          enum:
            - home
            - work
            - temp
            - old
            - mobile
        _use:
          # description: Extensions for use
          $ref: 'https://fhir.opennz.org/Element'
        rank:
          # description: >-
          #   Specifies a preferred order in which to use a set of contacts.
          #   ContactPoints with lower rank values are more preferred than those
          #   with higher rank values.
          $ref: 'https://fhir.opennz.org/positiveInt'
        _rank:
          # description: Extensions for rank
          $ref: 'https://fhir.opennz.org/Element'
        period:
          # description: Time period when the contact point was/is in use.
          $ref: 'https://fhir.opennz.org/Period'
      additionalProperties: false
    Contributor:
      description: >-
        A contributor to the content of a knowledge asset, including authors,
        editors, reviewers, and endorsers.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        type:
          description: The type of contributor.
          enum:
            - author
            - editor
            - reviewer
            - endorser
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        name:
          # description: >-
          #   The name of the individual or organization responsible for the
          #   contribution.
          $ref: 'https://fhir.opennz.org/string'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        contact:
          description: >-
            Contact details to assist a user in finding and communicating with the
            contributor.
          items:
            $ref: 'https://fhir.opennz.org/ContactDetail'
          type: array
      additionalProperties: false
    Signature:
      description: >-
        A signature along with supporting context. The signature may be a digital
        signature that is cryptographic in nature, or some other signature
        acceptable to the domain. This other signature may be as simple as a
        graphical image representing a hand-written signature, or a signature
        ceremony Different signature approaches have different utilities.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        type:
          description: >-
            An indication of the reason that the entity signed this document. This
            may be explicitly included as part of the signature information and
            can be used when determining accountability for various actions
            concerning the document.
          items:
            $ref: 'https://fhir.opennz.org/Coding'
          type: array
        when:
          # description: When the digital signature was signed.
          $ref: 'https://fhir.opennz.org/instant'
        _when:
          # description: Extensions for when
          $ref: 'https://fhir.opennz.org/Element'
        who:
          # description: >-
          #   A reference to an application-usable description of the identity that
          #   signed  (e.g. the signature used their private key).
          $ref: 'https://fhir.opennz.org/Reference'
        onBehalfOf:
          # description: >-
          #   A reference to an application-usable description of the identity that
          #   is represented by the signature.
          $ref: 'https://fhir.opennz.org/Reference'
        targetFormat:
          # description: >-
          #   A mime type that indicates the technical format of the target
          #   resources signed by the signature.
          $ref: 'https://fhir.opennz.org/code'
        _targetFormat:
          # description: Extensions for targetFormat
          $ref: 'https://fhir.opennz.org/Element'
        sigFormat:
          # description: >-
          #   A mime type that indicates the technical format of the signature.
          #   Important mime types are application/signature+xml for X ML DigSig,
          #   application/jose for JWS, and image/* for a graphical image of a
          #   signature, etc.
          $ref: 'https://fhir.opennz.org/code'
        _sigFormat:
          # description: Extensions for sigFormat
          $ref: 'https://fhir.opennz.org/Element'
        data:
          # description: >-
          #   The base64 encoding of the Signature content. When signature is not
          #   recorded electronically this element would be empty.
          $ref: 'https://fhir.opennz.org/base64Binary'
        _data:
          # description: Extensions for data
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
      required:
        - type
        - who
    Count:
      description: >-
        A measured amount (or an amount that can potentially be measured). Note
        that measured amounts include amounts that are not precisely quantified,
        including amounts involving arbitrary units and floating currencies.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        value:
          # description: >-
          #   The value of the measured amount. The value includes an implicit
          #   precision in the presentation of the value.
          $ref: 'https://fhir.opennz.org/decimal'
        _value:
          # description: Extensions for value
          $ref: 'https://fhir.opennz.org/Element'
        comparator:
          description: >-
            How the value should be understood and represented - whether the
            actual value is greater or less than the stated value due to
            measurement issues; e.g. if the comparator is "<" , then the real
            value is < stated value.
          enum:
            - <
            - <=
            - '>='
            - '>'
        _comparator:
          # description: Extensions for comparator
          $ref: 'https://fhir.opennz.org/Element'
        unit:
          # description: A human-readable form of the unit.
          $ref: 'https://fhir.opennz.org/string'
        _unit:
          # description: Extensions for unit
          $ref: 'https://fhir.opennz.org/Element'
        system:
          # description: >-
          #   The identification of the system that provides the coded form of the
          #   unit.
          $ref: 'https://fhir.opennz.org/uri'
        _system:
          # description: Extensions for system
          $ref: 'https://fhir.opennz.org/Element'
        code:
          # description: >-
          #   A computer processable form of the unit in some unit representation
          #   system.
          $ref: 'https://fhir.opennz.org/code'
        _code:
          # description: Extensions for code
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false

    date:
      pattern: >-
        ^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$
      type: string
      description: >-
        A date or partial date (e.g. just year or year + month). There is no time
        zone. The format is a union of the schema types gYear, gYearMonth and
        date.  Dates SHALL be valid dates.
    dateTime:
      pattern: "^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$"
      type: "string"
      description: "A date, date-time or partial date (e.g. just year or year + month).  If hours and minutes are specified, a time zone SHALL be populated. The format is a union of the schema types gYear, gYearMonth, date and dateTime. Seconds must be provided due to schema type constraints but may be zero-filled and may be ignored.                 Dates SHALL be valid dates."
    decimal:
      pattern: ^-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][+-]?[0-9]+)?$
      type: number
      description: A rational number with implicit precision
    DataRequirement:
      description: >-
        Describes a required data item for evaluation in terms of the type of
        data, and optional code or date-based filters of the data.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        type:
          # description: >-
          #   The type of the required data, specified as the type name of a
          #   resource. For profiles, this value is set to the type of the base
          #   resource of the profile.
          $ref: 'https://fhir.opennz.org/code'
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        profile:
          description: >-
            The profile of the required data, specified as the uri of the profile
            definition.
          items:
            $ref: 'https://fhir.opennz.org/canonical'
          type: array
        subjectCodeableConcept:
          # description: >-
          #   The intended subjects of the data requirement. If this element is not
          #   provided, a Patient subject is assumed.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        subjectReference:
          # description: >-
          #   The intended subjects of the data requirement. If this element is not
          #   provided, a Patient subject is assumed.
          $ref: 'https://fhir.opennz.org/Reference'
        mustSupport:
          description: >-
            Indicates that specific elements of the type are referenced by the
            knowledge module and must be supported by the consumer in order to
            obtain an effective evaluation. This does not mean that a value is
            required for this element, only that the consuming system must
            understand the element and be able to provide values for it if they
            are available. 


            The value of mustSupport SHALL be a FHIRPath resolveable on the type
            of the DataRequirement. The path SHALL consist only of identifiers,
            constant indexers, and .resolve() (see the [Simple FHIRPath
            Profile](fhirpath.html#simple) for full details).
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _mustSupport:
          description: Extensions for mustSupport
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        codeFilter:
          description: >-
            Code filters specify additional constraints on the data, specifying
            the value set of interest for a particular element of the data. Each
            code filter defines an additional constraint on the data, i.e. code
            filters are AND'ed, not OR'ed.
          items:
            $ref: 'https://fhir.opennz.org/DataRequirement_CodeFilter'
          type: array
        dateFilter:
          description: >-
            Date filters specify additional constraints on the data in terms of
            the applicable date range for specific elements. Each date filter
            specifies an additional constraint on the data, i.e. date filters are
            AND'ed, not OR'ed.
          items:
            $ref: 'https://fhir.opennz.org/DataRequirement_DateFilter'
          type: array
        limit:
          # description: >-
          #   Specifies a maximum number of results that are required (uses the
          #   _count search parameter).
          $ref: 'https://fhir.opennz.org/positiveInt'
        _limit:
          # description: Extensions for limit
          $ref: 'https://fhir.opennz.org/Element'
        sort:
          description: Specifies the order of the results to be returned.
          items:
            $ref: 'https://fhir.opennz.org/DataRequirement_Sort'
          type: array
      additionalProperties: false
    DataRequirement_CodeFilter:
      description: >-
        Describes a required data item for evaluation in terms of the type of
        data, and optional code or date-based filters of the data.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        path:
          # description: >-
          #   The code-valued attribute of the filter. The specified path SHALL be a
          #   FHIRPath resolveable on the specified type of the DataRequirement, and
          #   SHALL consist only of identifiers, constant indexers, and .resolve().
          #   The path is allowed to contain qualifiers (.) to traverse
          #   sub-elements, as well as indexers ([x]) to traverse
          #   multiple-cardinality sub-elements (see the [Simple FHIRPath
          #   Profile](fhirpath.html#simple) for full details). Note that the index
          #   must be an integer constant. The path must resolve to an element of
          #   type code, Coding, or CodeableConcept.
          $ref: 'https://fhir.opennz.org/string'
        _path:
          # description: Extensions for path
          $ref: 'https://fhir.opennz.org/Element'
        searchParam:
          # description: >-
          #   A token parameter that refers to a search parameter defined on the
          #   specified type of the DataRequirement, and which searches on elements
          #   of type code, Coding, or CodeableConcept.
          $ref: 'https://fhir.opennz.org/string'
        _searchParam:
          # description: Extensions for searchParam
          $ref: 'https://fhir.opennz.org/Element'
        valueSet:
          # description: >-
          #   The valueset for the code filter. The valueSet and code elements are
          #   additive. If valueSet is specified, the filter will return only those
          #   data items for which the value of the code-valued element specified in
          #   the path is a member of the specified valueset.
          $ref: 'https://fhir.opennz.org/canonical'
        code:
          description: >-
            The codes for the code filter. If values are given, the filter will
            return only those data items for which the code-valued attribute
            specified by the path has a value that is one of the specified codes.
            If codes are specified in addition to a value set, the filter returns
            items matching a code in the value set or one of the specified codes.
          items:
            $ref: 'https://fhir.opennz.org/Coding'
          type: array
      additionalProperties: false
    DataRequirement_DateFilter:
      description: >-
        Describes a required data item for evaluation in terms of the type of
        data, and optional code or date-based filters of the data.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        path:
          # description: >-
          #   The date-valued attribute of the filter. The specified path SHALL be a
          #   FHIRPath resolveable on the specified type of the DataRequirement, and
          #   SHALL consist only of identifiers, constant indexers, and .resolve().
          #   The path is allowed to contain qualifiers (.) to traverse
          #   sub-elements, as well as indexers ([x]) to traverse
          #   multiple-cardinality sub-elements (see the [Simple FHIRPath
          #   Profile](fhirpath.html#simple) for full details). Note that the index
          #   must be an integer constant. The path must resolve to an element of
          #   type date, dateTime, Period, Schedule, or Timing.
          $ref: 'https://fhir.opennz.org/string'
        _path:
          # description: Extensions for path
          $ref: 'https://fhir.opennz.org/Element'
        searchParam:
          # description: >-
          #   A date parameter that refers to a search parameter defined on the
          #   specified type of the DataRequirement, and which searches on elements
          #   of type date, dateTime, Period, Schedule, or Timing.
          $ref: 'https://fhir.opennz.org/string'
        _searchParam:
          # description: Extensions for searchParam
          $ref: 'https://fhir.opennz.org/Element'
        valueDateTime:
          description: >-
            The value of the filter. If period is specified, the filter will
            return only those data items that fall within the bounds determined by
            the Period, inclusive of the period boundaries. If dateTime is
            specified, the filter will return only those data items that are equal
            to the specified dateTime. If a Duration is specified, the filter will
            return only those data items that fall within Duration before now.
          pattern: >-
            ^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$
          type: string
        _valueDateTime:
          # description: Extensions for valueDateTime
          $ref: 'https://fhir.opennz.org/Element'
        valuePeriod:
          # description: >-
          #   The value of the filter. If period is specified, the filter will
          #   return only those data items that fall within the bounds determined by
          #   the Period, inclusive of the period boundaries. If dateTime is
          #   specified, the filter will return only those data items that are equal
          #   to the specified dateTime. If a Duration is specified, the filter will
          #   return only those data items that fall within Duration before now.
          $ref: 'https://fhir.opennz.org/Period'
        valueDuration:
          # description: >-
          #   The value of the filter. If period is specified, the filter will
          #   return only those data items that fall within the bounds determined by
          #   the Period, inclusive of the period boundaries. If dateTime is
          #   specified, the filter will return only those data items that are equal
          #   to the specified dateTime. If a Duration is specified, the filter will
          #   return only those data items that fall within Duration before now.
          $ref: 'https://fhir.opennz.org/Duration'
      additionalProperties: false
    DataRequirement_Sort:
      description: >-
        Describes a required data item for evaluation in terms of the type of
        data, and optional code or date-based filters of the data.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        path:
          # description: >-
          #   The attribute of the sort. The specified path must be resolvable from
          #   the type of the required data. The path is allowed to contain
          #   qualifiers (.) to traverse sub-elements, as well as indexers ([x]) to
          #   traverse multiple-cardinality sub-elements. Note that the index must
          #   be an integer constant.
          $ref: 'https://fhir.opennz.org/string'
        _path:
          # description: Extensions for path
          $ref: 'https://fhir.opennz.org/Element'
        direction:
          description: The direction of the sort, ascending or descending.
          enum:
            - ascending
            - descending
        _direction:
          # description: Extensions for direction
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    Distance:
      description: A length - a value with a unit that is a physical distance.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        value:
          # description: >-
          #   The value of the measured amount. The value includes an implicit
          #   precision in the presentation of the value.
          $ref: 'https://fhir.opennz.org/decimal'
        _value:
          # description: Extensions for value
          $ref: 'https://fhir.opennz.org/Element'
        comparator:
          description: >-
            How the value should be understood and represented - whether the
            actual value is greater or less than the stated value due to
            measurement issues; e.g. if the comparator is "<" , then the real
            value is < stated value.
          enum:
            - <
            - <=
            - '>='
            - '>'
        _comparator:
          # description: Extensions for comparator
          $ref: 'https://fhir.opennz.org/Element'
        unit:
          # description: A human-readable form of the unit.
          $ref: 'https://fhir.opennz.org/string'
        _unit:
          # description: Extensions for unit
          $ref: 'https://fhir.opennz.org/Element'
        system:
          # description: >-
          #   The identification of the system that provides the coded form of the
          #   unit.
          $ref: 'https://fhir.opennz.org/uri'
        _system:
          # description: Extensions for system
          $ref: 'https://fhir.opennz.org/Element'
        code:
          # description: >-
          #   A computer processable form of the unit in some unit representation
          #   system.
          $ref: 'https://fhir.opennz.org/code'
        _code:
          # description: Extensions for code
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    Dosage:
      description: >-
        Indicates how the medication is/was taken or should be taken by the
        patient.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        sequence:
          # description: >-
          #   Indicates the order in which the dosage instructions should be applied
          #   or interpreted.
          $ref: 'https://fhir.opennz.org/integer'
        _sequence:
          # description: Extensions for sequence
          $ref: 'https://fhir.opennz.org/Element'
        text:
          # description: Free text dosage instructions e.g. SIG.
          $ref: 'https://fhir.opennz.org/string'
        _text:
          # description: Extensions for text
          $ref: 'https://fhir.opennz.org/Element'
        additionalInstruction:
          description: >-
            Supplemental instructions to the patient on how to take the
            medication  (e.g. "with meals" or"take half to one hour before food")
            or warnings for the patient about the medication (e.g. "may cause
            drowsiness" or "avoid exposure of skin to direct sunlight or
            sunlamps").
          items:
            $ref: 'https://fhir.opennz.org/CodeableConcept'
          type: array
        patientInstruction:
          # description: Instructions in terms that are understood by the patient or consumer.
          $ref: 'https://fhir.opennz.org/string'
        _patientInstruction:
          # description: Extensions for patientInstruction
          $ref: 'https://fhir.opennz.org/Element'
        timing:
          # description: When medication should be administered.
          $ref: 'https://fhir.opennz.org/Timing'
        asNeededBoolean:
          description: >-
            Indicates whether the Medication is only taken when needed within a
            specific dosing schedule (Boolean option), or it indicates the
            precondition for taking the Medication (CodeableConcept).
          pattern: ^true|false$
          type: boolean
        _asNeededBoolean:
          # description: Extensions for asNeededBoolean
          $ref: 'https://fhir.opennz.org/Element'
        asNeededCodeableConcept:
          # description: >-
          #   Indicates whether the Medication is only taken when needed within a
          #   specific dosing schedule (Boolean option), or it indicates the
          #   precondition for taking the Medication (CodeableConcept).
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        site:
          # description: Body site to administer to.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        route:
          # description: How drug should enter body.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        method:
          # description: Technique for administering medication.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        doseAndRate:
          description: The amount of medication administered.
          items:
            $ref: 'https://fhir.opennz.org/Dosage_DoseAndRate'
          type: array
        maxDosePerPeriod:
          # description: Upper limit on medication per unit of time.
          $ref: 'https://fhir.opennz.org/Ratio'
        maxDosePerAdministration:
          # description: Upper limit on medication per administration.
          $ref: 'https://fhir.opennz.org/Quantity'
        maxDosePerLifetime:
          # description: Upper limit on medication per lifetime of the patient.
          $ref: 'https://fhir.opennz.org/Quantity'
      additionalProperties: false
    Dosage_DoseAndRate:
      description: >-
        Indicates how the medication is/was taken or should be taken by the
        patient.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        type:
          # description: >-
          #   The kind of dose or rate specified, for example, ordered or
          #   calculated.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        doseRange:
          # description: Amount of medication per dose.
          $ref: 'https://fhir.opennz.org/Range'
        doseQuantity:
          # description: Amount of medication per dose.
          $ref: 'https://fhir.opennz.org/Quantity'
        rateRatio:
          # description: Amount of medication per unit of time.
          $ref: 'https://fhir.opennz.org/Ratio'
        rateRange:
          # description: Amount of medication per unit of time.
          $ref: 'https://fhir.opennz.org/Range'
        rateQuantity:
          # description: Amount of medication per unit of time.
          $ref: 'https://fhir.opennz.org/Quantity'

    Duration:
      description: A length of time.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        value:
          # description: >-
          #   The value of the measured amount. The value includes an implicit
          #   precision in the presentation of the value.
          $ref: 'https://fhir.opennz.org/decimal'
        _value:
          # description: Extensions for value
          $ref: 'https://fhir.opennz.org/Element'
        comparator:
          description: >-
            How the value should be understood and represented - whether the
            actual value is greater or less than the stated value due to
            measurement issues; e.g. if the comparator is "<" , then the real
            value is < stated value.
          enum:
            - <
            - <=
            - '>='
            - '>'
        _comparator:
          # description: Extensions for comparator
          $ref: 'https://fhir.opennz.org/Element'
        unit:
          # description: A human-readable form of the unit.
          $ref: 'https://fhir.opennz.org/string'
        _unit:
          # description: Extensions for unit
          $ref: 'https://fhir.opennz.org/Element'
        system:
          # description: >-
          #   The identification of the system that provides the coded form of the
          #   unit.
          $ref: 'https://fhir.opennz.org/uri'
        _system:
          # description: Extensions for system
          $ref: 'https://fhir.opennz.org/Element'
        code:
          # description: >-
          #   A computer processable form of the unit in some unit representation
          #   system.
          $ref: 'https://fhir.opennz.org/code'
        _code:
          # description: Extensions for code
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false

    Element:
      description: Base definition for all elements in a resource.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
      additionalProperties: false
    Expression:
      description: >-
        A expression that is evaluated in a specified context and returns a value.
        The context of use of the expression must specify the context in which the
        expression is evaluated, and how the result of the expression is used.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        description:
          # description: >-
          #   A brief, natural language description of the condition that
          #   effectively communicates the intended semantics.
          $ref: 'https://fhir.opennz.org/string'
        _description:
          # description: Extensions for description
          $ref: 'https://fhir.opennz.org/Element'
        name:
          # description: >-
          #   A short name assigned to the expression to allow for multiple reuse of
          #   the expression in the context where it is defined.
          $ref: 'https://fhir.opennz.org/id'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        language:
          description: The media type of the language for the expression.
          enum:
            - text/cql
            - text/fhirpath
            - application/x-fhir-query
        _language:
          # description: Extensions for language
          $ref: 'https://fhir.opennz.org/Element'
        expression:
          # description: An expression in the specified language that returns a value.
          $ref: 'https://fhir.opennz.org/string'
        _expression:
          # description: Extensions for expression
          $ref: 'https://fhir.opennz.org/Element'
        reference:
          # description: A URI that defines where the expression is found.
          $ref: 'https://fhir.opennz.org/uri'
        _reference:
          # description: Extensions for reference
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
    Extension:
      description: Optional Extension Element - found in all resources.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        url:
          # description: >-
          #   Source of the definition for the extension code - a logical name or a
          #   URL.
          $ref: 'https://fhir.opennz.org/uri'
        _url:
          # description: Extensions for url
          $ref: 'https://fhir.opennz.org/Element'
        valueBase64Binary:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^(\s*([0-9a-zA-Z\+/=]){4}\s*)+$
          type: string
        _valueBase64Binary:
          # description: Extensions for valueBase64Binary
          $ref: 'https://fhir.opennz.org/Element'
        valueBoolean:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^true|false$
          type: boolean
        _valueBoolean:
          # description: Extensions for valueBoolean
          $ref: 'https://fhir.opennz.org/Element'
        valueCanonical:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^\S*$
          type: string
        _valueCanonical:
          # description: Extensions for valueCanonical
          $ref: 'https://fhir.opennz.org/Element'
        valueCode:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^[^\s]+(\s[^\s]+)*$
          type: string
        _valueCode:
          # description: Extensions for valueCode
          $ref: 'https://fhir.opennz.org/Element'
        valueDate:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: >-
            ^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$
          type: string
        _valueDate:
          # description: Extensions for valueDate
          $ref: 'https://fhir.opennz.org/Element'
        valueDateTime:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: >-
            ^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$
          type: string
        _valueDateTime:
          # description: Extensions for valueDateTime
          $ref: 'https://fhir.opennz.org/Element'
        valueDecimal:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][+-]?[0-9]+)?$
          type: number
        _valueDecimal:
          # description: Extensions for valueDecimal
          $ref: 'https://fhir.opennz.org/Element'
        valueId:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^[A-Za-z0-9\-\.]{1,64}$
          type: string
        _valueId:
          # description: Extensions for valueId
          $ref: 'https://fhir.opennz.org/Element'
        valueInstant:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: >-
            ^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))$
          type: string
        _valueInstant:
          # description: Extensions for valueInstant
          $ref: 'https://fhir.opennz.org/Element'
        valueInteger:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^-?([0]|([1-9][0-9]*))$
          type: number
        _valueInteger:
          # description: Extensions for valueInteger
          $ref: 'https://fhir.opennz.org/Element'
        valueMarkdown:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^[ \r\n\t\S]+$
          type: string
        _valueMarkdown:
          # description: Extensions for valueMarkdown
          $ref: 'https://fhir.opennz.org/Element'
        valueOid:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^urn:oid:[0-2](\.(0|[1-9][0-9]*))+$
          type: string
        _valueOid:
          # description: Extensions for valueOid
          $ref: 'https://fhir.opennz.org/Element'
        valuePositiveInt:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^[1-9][0-9]*$
          type: number
        _valuePositiveInt:
          # description: Extensions for valuePositiveInt
          $ref: 'https://fhir.opennz.org/Element'
        valueString:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^[ \r\n\t\S]+$
          type: string
        _valueString:
          # description: Extensions for valueString
          $ref: 'https://fhir.opennz.org/Element'
        valueTime:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?$
          type: string
        _valueTime:
          # description: Extensions for valueTime
          $ref: 'https://fhir.opennz.org/Element'
        valueUnsignedInt:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^[0]|([1-9][0-9]*)$
          type: number
        _valueUnsignedInt:
          # description: Extensions for valueUnsignedInt
          $ref: 'https://fhir.opennz.org/Element'
        valueUri:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^\S*$
          type: string
        _valueUri:
          # description: Extensions for valueUri
          $ref: 'https://fhir.opennz.org/Element'
        valueUrl:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: ^\S*$
          type: string
        _valueUrl:
          # description: Extensions for valueUrl
          $ref: 'https://fhir.opennz.org/Element'
        valueUuid:
          description: >-
            Value of extension - must be one of a constrained set of the data
            types (see [Extensibility](extensibility.html) for a list).
          pattern: >-
            ^urn:uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$
          type: string
        _valueUuid:
          # description: Extensions for valueUuid
          $ref: 'https://fhir.opennz.org/Element'
        valueAddress:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Address'
        valueAge:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Age'
        valueAnnotation:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Annotation'
        valueAttachment:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Attachment'
        valueCodeableConcept:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        valueCoding:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Coding'
        valueContactPoint:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/ContactPoint'
        valueCount:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Count'
        valueDistance:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Distance'
        valueDuration:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Duration'
        valueHumanName:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/HumanName'
        valueIdentifier:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Identifier'
        valueMoney:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Money'
        valuePeriod:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Period'
        valueQuantity:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Quantity'
        valueRange:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Range'
        valueRatio:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Ratio'
        valueReference:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Reference'
        valueSampledData:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/SampledData'
        valueSignature:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Signature'
        valueTiming:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Timing'
        valueContactDetail:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/ContactDetail'
        valueContributor:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Contributor'
        valueDataRequirement:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/DataRequirement'
        valueExpression:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Expression'
        valueParameterDefinition:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/ParameterDefinition'
        valueRelatedArtifact:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/RelatedArtifact'
        valueTriggerDefinition:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/TriggerDefinition'
        valueUsageContext:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/UsageContext'
        valueDosage:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Dosage'
        valueMeta:
          # description: >-
          #   Value of extension - must be one of a constrained set of the data
          #   types (see [Extensibility](extensibility.html) for a list).
          $ref: 'https://fhir.opennz.org/Meta'
      additionalProperties: false

    HumanName:
      description: A human's name with the ability to identify parts and usage.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        use:
          description: Identifies the purpose for this name.
          enum:
            - usual
            - official
            - temp
            - nickname
            - anonymous
            - old
            - maiden
        _use:
          # description: Extensions for use
          $ref: 'https://fhir.opennz.org/Element'
        text:
          # description: >-
          #   Specifies the entire name as it should be displayed e.g. on an
          #   application UI. This may be provided instead of or as well as the
          #   specific parts.
          $ref: 'https://fhir.opennz.org/string'
        _text:
          # description: Extensions for text
          $ref: 'https://fhir.opennz.org/Element'
        family:
          # description: >-
          #   The part of a name that links to the genealogy. In some cultures (e.g.
          #   Eritrea) the family name of a son is the first name of his father.
          $ref: 'https://fhir.opennz.org/string'
        _family:
          # description: Extensions for family
          $ref: 'https://fhir.opennz.org/Element'
        given:
          description: Given name.
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _given:
          description: Extensions for given
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        prefix:
          description: >-
            Part of the name that is acquired as a title due to academic, legal,
            employment or nobility status, etc. and that appears at the start of
            the name.
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _prefix:
          description: Extensions for prefix
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        suffix:
          description: >-
            Part of the name that is acquired as a title due to academic, legal,
            employment or nobility status, etc. and that appears at the end of the
            name.
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _suffix:
          description: Extensions for suffix
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        period:
          # description: >-
          #   Indicates the period of time when this name was valid for the named
          #   person.
          $ref: 'https://fhir.opennz.org/Period'
      additionalProperties: false

    id:
      pattern: ^[A-Za-z0-9\-\.]{1,64}$
      type: string
      description: >-
        Any combination of letters, numerals, "-" and ".", with a length limit of
        64 characters.  (This might be an integer, an unprefixed OID, UUID or any
        other identifier pattern that meets these constraints.)  Ids are
        case-insensitive.  
    instant:
      pattern: >-
        ^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))$
      type: string
      description: An instant in time - known at least to the second
    integer:
      pattern: ^-?([0]|([1-9][0-9]*))$
      type: number
      description: A whole number
    Identifier:
      description: >-
        An identifier - identifies some entity uniquely and unambiguously.
        Typically this is used for business identifiers.
      type: "object"
      properties:
        period:
          $ref: "https://fhir.opennz.org/Period"
        system:
          $ref: "https://fhir.opennz.org/uri"
        use:
          type: "string"
          description: "The purpose of this identifier."
          enum:
            - "usual"
            - "official"
            - "temp"
            - "nickname"
            - "anonymous"
            - "old"
            - "maiden"
        assigner:
          $ref: "https://fhir.opennz.org/Reference"
        id:
          $ref: "https://fhir.opennz.org/string"
        type:
          $ref: "https://fhir.opennz.org/CodeableConcept"
        value:
          $ref: "https://fhir.opennz.org/string"
      additionalProperties: false

    markdown:
      pattern: ^[ \r\n\t\S]+$
      type: string
      description: >-
        A string that may contain Github Flavored Markdown syntax for optional
        processing by a mark down presentation engine
    MedicationDispense:
      description: >-
        Indicates that a medication product is to be or has been dispensed for a
        named person/patient.  This includes a description of the medication
        product (supply) provided and the instructions for administering the
        medication.  The medication dispense is the result of a pharmacy system
        responding to a medication order.
      properties:
        resourceType:
          description: This is a MedicationDispense resource
          #const: MedicationDispense
        id:
          # description: >-
          #   The logical id of the resource, as used in the URL for the resource.
          #   Once assigned, this value never changes.
          $ref: 'https://fhir.opennz.org/id'
        meta:
          # description: >-
          #   The metadata about the resource. This is content that is maintained by
          #   the infrastructure. Changes to the content might not always be
          #   associated with version changes to the resource.
          $ref: 'https://fhir.opennz.org/Meta'
        implicitRules:
          # description: >-
          #   A reference to a set of rules that were followed when the resource was
          #   constructed, and which must be understood when processing the content.
          #   Often, this is a reference to an implementation guide that defines the
          #   special rules along with other profiles etc.
          $ref: 'https://fhir.opennz.org/uri'
        _implicitRules:
          # description: Extensions for implicitRules
          $ref: 'https://fhir.opennz.org/Element'
        language:
          # description: The base language in which the resource is written.
          $ref: 'https://fhir.opennz.org/code'
        _language:
          # description: Extensions for language
          $ref: 'https://fhir.opennz.org/Element'
        text:
          # description: >-
          #   A human-readable narrative that contains a summary of the resource and
          #   can be used to represent the content of the resource to a human. The
          #   narrative need not encode all the structured data, but is required to
          #   contain sufficient detail to make it "clinically safe" for a human to
          #   just read the narrative. Resource definitions may define what content
          #   should be represented in the narrative to ensure clinical safety.
          $ref: 'https://fhir.opennz.org/Narrative'
        contained:
          description: >-
            These resources do not have an independent existence apart from the
            resource that contains them - they cannot be identified independently,
            and nor can they have their own independent transaction scope.
          items:
            $ref: 'https://fhir.opennz.org/ResourceList'
          type: array
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the resource. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the resource and that modifies the
            understanding of the element that contains it and/or the understanding
            of the containing element's descendants. Usually modifier elements
            provide negation or qualification. To make the use of extensions safe
            and manageable, there is a strict set of governance applied to the
            definition and use of extensions. Though any implementer is allowed to
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension. Applications processing a
            resource are required to check for modifier extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        identifier:
          description: >-
            Identifiers associated with this Medication Dispense that are defined
            by business processes and/or used to refer to it when a direct URL
            reference to the resource itself is not appropriate. They are business
            identifiers assigned to this resource by the performer or other
            systems and remain constant as the resource is updated and propagates
            from server to server.
          items:
            $ref: 'https://fhir.opennz.org/Identifier'
          type: array
        partOf:
          description: The procedure that trigger the dispense.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        status:
          # description: A code specifying the state of the set of dispense events.
          $ref: 'https://fhir.opennz.org/code'
        _status:
          # description: Extensions for status
          $ref: 'https://fhir.opennz.org/Element'
        statusReasonCodeableConcept:
          # description: Indicates the reason why a dispense was not performed.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        statusReasonReference:
          # description: Indicates the reason why a dispense was not performed.
          $ref: 'https://fhir.opennz.org/Reference'
        category:
          # description: >-
          #   Indicates the type of medication dispense (for example, where the
          #   medication is expected to be consumed or administered (i.e. inpatient
          #   or outpatient)).
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        medicationCodeableConcept:
          # description: >-
          #   Identifies the medication being administered. This is either a link to
          #   a resource representing the details of the medication or a simple
          #   attribute carrying a code that identifies the medication from a known
          #   list of medications.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        medicationReference:
          # description: >-
          #   Identifies the medication being administered. This is either a link to
          #   a resource representing the details of the medication or a simple
          #   attribute carrying a code that identifies the medication from a known
          #   list of medications.
          $ref: 'https://fhir.opennz.org/Reference'
        subject:
          # description: >-
          #   A link to a resource representing the person or the group to whom the
          #   medication will be given.
          $ref: 'https://fhir.opennz.org/Reference'
        context:
          # description: >-
          #   The encounter or episode of care that establishes the context for this
          #   event.
          $ref: 'https://fhir.opennz.org/Reference'
        supportingInformation:
          description: Additional information that supports the medication being dispensed.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        performer:
          description: Indicates who or what performed the event.
          items:
            $ref: 'https://fhir.opennz.org/MedicationDispense_Performer'
          type: array
        location:
          # description: The principal physical location where the dispense was performed.
          $ref: 'https://fhir.opennz.org/Reference'
        authorizingPrescription:
          description: Indicates the medication order that is being dispensed against.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        type:
          # description: >-
          #   Indicates the type of dispensing event that is performed. For example,
          #   Trial Fill, Completion of Trial, Partial Fill, Emergency Fill,
          #   Samples, etc.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        quantity:
          # description: >-
          #   The amount of medication that has been dispensed. Includes unit of
          #   measure.
          $ref: 'https://fhir.opennz.org/Quantity'
        daysSupply:
          # description: The amount of medication expressed as a timing amount.
          $ref: 'https://fhir.opennz.org/Quantity'
        whenPrepared:
          # description: The time when the dispensed product was packaged and reviewed.
          $ref: 'https://fhir.opennz.org/dateTime'
        _whenPrepared:
          # description: Extensions for whenPrepared
          $ref: 'https://fhir.opennz.org/Element'
        whenHandedOver:
          # description: >-
          #   The time the dispensed product was provided to the patient or their
          #   representative.
          $ref: 'https://fhir.opennz.org/dateTime'
        _whenHandedOver:
          # description: Extensions for whenHandedOver
          $ref: 'https://fhir.opennz.org/Element'
        destination:
          # description: >-
          #   Identification of the facility/location where the medication was
          #   shipped to, as part of the dispense event.
          $ref: 'https://fhir.opennz.org/Reference'
        receiver:
          description: >-
            Identifies the person who picked up the medication.  This will usually
            be a patient or their caregiver, but some cases exist where it can be
            a healthcare professional.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        note:
          description: >-
            Extra information about the dispense that could not be conveyed in the
            other attributes.
          items:
            $ref: 'https://fhir.opennz.org/Annotation'
          type: array
        dosageInstruction:
          description: Indicates how the medication is to be used by the patient.
          items:
            $ref: 'https://fhir.opennz.org/Dosage'
          type: array
        substitution:
          # description: >-
          #   Indicates whether or not substitution was made as part of the
          #   dispense.  In some cases, substitution will be expected but does not
          #   happen, in other cases substitution is not expected but does happen. 
          #   This block explains what substitution did or did not happen and why. 
          #   If nothing is specified, substitution was not done.
          $ref: 'https://fhir.opennz.org/MedicationDispense_Substitution'
        detectedIssue:
          description: >-
            Indicates an actual or potential clinical issue with or between one or
            more active or proposed clinical actions for a patient; e.g. drug-drug
            interaction, duplicate therapy, dosage alert etc.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        eventHistory:
          description: >-
            A summary of the events of interest that have occurred, such as when
            the dispense was verified.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
      additionalProperties: false
      required:
        - resourceType
    MedicationDispense_Performer:
      description: >-
        Indicates that a medication product is to be or has been dispensed for a
        named person/patient.  This includes a description of the medication
        product (supply) provided and the instructions for administering the
        medication.  The medication dispense is the result of a pharmacy system
        responding to a medication order.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        function:
          # description: >-
          #   Distinguishes the type of performer in the dispense.  For example,
          #   date enterer, packager, final checker.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        actor:
          # description: >-
          #   The device, practitioner, etc. who performed the action.  It should be
          #   assumed that the actor is the dispenser of the medication.
          $ref: 'https://fhir.opennz.org/Reference'
      additionalProperties: false
      required:
        - actor
    MedicationDispense_Substitution:
      description: >-
        Indicates that a medication product is to be or has been dispensed for a
        named person/patient.  This includes a description of the medication
        product (supply) provided and the instructions for administering the
        medication.  The medication dispense is the result of a pharmacy system
        responding to a medication order.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        wasSubstituted:
          # description: >-
          #   True if the dispenser dispensed a different drug or product from what
          #   was prescribed.
          $ref: 'https://fhir.opennz.org/boolean'
        _wasSubstituted:
          # description: Extensions for wasSubstituted
          $ref: 'https://fhir.opennz.org/Element'
        type:
          # description: >-
          #   A code signifying whether a different drug was dispensed from what was
          #   prescribed.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        reason:
          description: >-
            Indicates the reason for the substitution (or lack of substitution)
            from what was prescribed.
          items:
            $ref: 'https://fhir.opennz.org/CodeableConcept'
          type: array
        responsibleParty:
          description: >-
            The person or organization that has primary responsibility for the
            substitution.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
      additionalProperties: false
    MedicationRequest:
      description: >-
        An order or request for both supply of the medication and the instructions
        for administration of the medication to a patient. The resource is called
        "MedicationRequest" rather than "MedicationPrescription" or
        "MedicationOrder" to generalize the use across inpatient and outpatient
        settings, including care plans, etc., and to harmonize with workflow
        patterns.
      properties:
        resourceType:
          description: This is a MedicationRequest resource
          #const: MedicationRequest
        id:
          # description: >-
          #   The logical id of the resource, as used in the URL for the resource.
          #   Once assigned, this value never changes.
          $ref: 'https://fhir.opennz.org/id'
        meta:
          # description: >-
          #   The metadata about the resource. This is content that is maintained by
          #   the infrastructure. Changes to the content might not always be
          #   associated with version changes to the resource.
          $ref: 'https://fhir.opennz.org/Meta'
        implicitRules:
          # description: >-
          #   A reference to a set of rules that were followed when the resource was
          #   constructed, and which must be understood when processing the content.
          #   Often, this is a reference to an implementation guide that defines the
          #   special rules along with other profiles etc.
          $ref: 'https://fhir.opennz.org/uri'
        _implicitRules:
          # description: Extensions for implicitRules
          $ref: 'https://fhir.opennz.org/Element'
        language:
          # description: The base language in which the resource is written.
          $ref: 'https://fhir.opennz.org/code'
        _language:
          # description: Extensions for language
          $ref: 'https://fhir.opennz.org/Element'
        text:
          # description: >-
          #   A human-readable narrative that contains a summary of the resource and
          #   can be used to represent the content of the resource to a human. The
          #   narrative need not encode all the structured data, but is required to
          #   contain sufficient detail to make it "clinically safe" for a human to
          #   just read the narrative. Resource definitions may define what content
          #   should be represented in the narrative to ensure clinical safety.
          $ref: 'https://fhir.opennz.org/Narrative'
        contained:
          description: >-
            These resources do not have an independent existence apart from the
            resource that contains them - they cannot be identified independently,
            and nor can they have their own independent transaction scope.
          items:
            $ref: 'https://fhir.opennz.org/ResourceList'
          type: array
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the resource. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the resource and that modifies the
            understanding of the element that contains it and/or the understanding
            of the containing element's descendants. Usually modifier elements
            provide negation or qualification. To make the use of extensions safe
            and manageable, there is a strict set of governance applied to the
            definition and use of extensions. Though any implementer is allowed to
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension. Applications processing a
            resource are required to check for modifier extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        identifier:
          description: >-
            Identifiers associated with this medication request that are defined
            by business processes and/or used to refer to it when a direct URL
            reference to the resource itself is not appropriate. They are business
            identifiers assigned to this resource by the performer or other
            systems and remain constant as the resource is updated and propagates
            from server to server.
          items:
            $ref: 'https://fhir.opennz.org/Identifier'
          type: array
        status:
          # description: >-
          #   A code specifying the current state of the order.  Generally, this
          #   will be active or completed state.
          $ref: 'https://fhir.opennz.org/code'
        _status:
          # description: Extensions for status
          $ref: 'https://fhir.opennz.org/Element'
        statusReason:
          # description: Captures the reason for the current state of the MedicationRequest.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        intent:
          # description: Whether the request is a proposal, plan, or an original order.
          $ref: 'https://fhir.opennz.org/code'
        _intent:
          # description: Extensions for intent
          $ref: 'https://fhir.opennz.org/Element'
        category:
          description: >-
            Indicates the type of medication request (for example, where the
            medication is expected to be consumed or administered (i.e. inpatient
            or outpatient)).
          items:
            $ref: 'https://fhir.opennz.org/CodeableConcept'
          type: array
        priority:
          # description: >-
          #   Indicates how quickly the Medication Request should be addressed with
          #   respect to other requests.
          $ref: 'https://fhir.opennz.org/code'
        _priority:
          # description: Extensions for priority
          $ref: 'https://fhir.opennz.org/Element'
        doNotPerform:
          # description: >-
          #   If true indicates that the provider is asking for the medication
          #   request not to occur.
          $ref: 'https://fhir.opennz.org/boolean'
        _doNotPerform:
          # description: Extensions for doNotPerform
          $ref: 'https://fhir.opennz.org/Element'
        reportedBoolean:
          description: >-
            Indicates if this record was captured as a secondary 'reported' record
            rather than as an original primary source-of-truth record.  It may
            also indicate the source of the report.
          pattern: ^true|false$
          type: boolean
        _reportedBoolean:
          # description: Extensions for reportedBoolean
          $ref: 'https://fhir.opennz.org/Element'
        reportedReference:
          # description: >-
          #   Indicates if this record was captured as a secondary 'reported' record
          #   rather than as an original primary source-of-truth record.  It may
          #   also indicate the source of the report.
          $ref: 'https://fhir.opennz.org/Reference'
        medicationCodeableConcept:
          # description: >-
          #   Identifies the medication being requested. This is a link to a
          #   resource that represents the medication which may be the details of
          #   the medication or simply an attribute carrying a code that identifies
          #   the medication from a known list of medications.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        medicationReference:
          # description: >-
          #   Identifies the medication being requested. This is a link to a
          #   resource that represents the medication which may be the details of
          #   the medication or simply an attribute carrying a code that identifies
          #   the medication from a known list of medications.
          $ref: 'https://fhir.opennz.org/Reference'
        subject:
          # description: >-
          #   A link to a resource representing the person or set of individuals to
          #   whom the medication will be given.
          $ref: 'https://fhir.opennz.org/Reference'
        encounter:
          # description: >-
          #   The Encounter during which this [x] was created or to which the
          #   creation of this record is tightly associated.
          $ref: 'https://fhir.opennz.org/Reference'
        supportingInformation:
          description: >-
            Include additional information (for example, patient height and
            weight) that supports the ordering of the medication.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        authoredOn:
          # description: >-
          #   The date (and perhaps time) when the prescription was initially
          #   written or authored on.
          $ref: 'https://fhir.opennz.org/dateTime'
        _authoredOn:
          # description: Extensions for authoredOn
          $ref: 'https://fhir.opennz.org/Element'
        requester:
          # description: >-
          #   The individual, organization, or device that initiated the request and
          #   has responsibility for its activation.
          $ref: 'https://fhir.opennz.org/Reference'
        performer:
          # description: >-
          #   The specified desired performer of the medication treatment (e.g. the
          #   performer of the medication administration).
          $ref: 'https://fhir.opennz.org/Reference'
        performerType:
          # description: >-
          #   Indicates the type of performer of the administration of the
          #   medication.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        recorder:
          # description: >-
          #   The person who entered the order on behalf of another individual for
          #   example in the case of a verbal or a telephone order.
          $ref: 'https://fhir.opennz.org/Reference'
        reasonCode:
          description: >-
            The reason or the indication for ordering or not ordering the
            medication.
          items:
            $ref: 'https://fhir.opennz.org/CodeableConcept'
          type: array
        reasonReference:
          description: Condition or observation that supports why the medication was ordered.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        instantiatesCanonical:
          description: >-
            The URL pointing to a protocol, guideline, orderset, or other
            definition that is adhered to in whole or in part by this
            MedicationRequest.
          items:
            $ref: 'https://fhir.opennz.org/canonical'
          type: array
        _instantiatesCanonical:
          description: Extensions for instantiatesCanonical
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        instantiatesUri:
          description: >-
            The URL pointing to an externally maintained protocol, guideline,
            orderset or other definition that is adhered to in whole or in part by
            this MedicationRequest.
          items:
            $ref: 'https://fhir.opennz.org/uri'
          type: array
        _instantiatesUri:
          description: Extensions for instantiatesUri
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        basedOn:
          description: >-
            A plan or request that is fulfilled in whole or in part by this
            medication request.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        groupIdentifier:
          # description: >-
          #   A shared identifier common to all requests that were authorized more
          #   or less simultaneously by a single author, representing the identifier
          #   of the requisition or prescription.
          $ref: 'https://fhir.opennz.org/Identifier'
        courseOfTherapyType:
          # description: >-
          #   The description of the overall patte3rn of the administration of the
          #   medication to the patient.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        insurance:
          description: >-
            Insurance plans, coverage extensions, pre-authorizations and/or
            pre-determinations that may be required for delivering the requested
            service.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        note:
          description: >-
            Extra information about the prescription that could not be conveyed by
            the other attributes.
          items:
            $ref: 'https://fhir.opennz.org/Annotation'
          type: array
        dosageInstruction:
          description: Indicates how the medication is to be used by the patient.
          items:
            $ref: 'https://fhir.opennz.org/Dosage'
          type: array
        dispenseRequest:
          # description: >-
          #   Indicates the specific details for the dispense or medication supply
          #   part of a medication request (also known as a Medication Prescription
          #   or Medication Order).  Note that this information is not always sent
          #   with the order.  There may be in some settings (e.g. hospitals)
          #   institutional or system support for completing the dispense details in
          #   the pharmacy department.
          $ref: 'https://fhir.opennz.org/MedicationRequest_DispenseRequest'
        substitution:
          # description: >-
          #   Indicates whether or not substitution can or should be part of the
          #   dispense. In some cases, substitution must happen, in other cases
          #   substitution must not happen. This block explains the prescriber's
          #   intent. If nothing is specified substitution may be done.
          $ref: 'https://fhir.opennz.org/MedicationRequest_Substitution'
        priorPrescription:
          # description: >-
          #   A link to a resource representing an earlier order related order or
          #   prescription.
          $ref: 'https://fhir.opennz.org/Reference'
        detectedIssue:
          description: >-
            Indicates an actual or potential clinical issue with or between one or
            more active or proposed clinical actions for a patient; e.g. Drug-drug
            interaction, duplicate therapy, dosage alert etc.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
        eventHistory:
          description: >-
            Links to Provenance records for past versions of this resource or
            fulfilling request or event resources that identify key state
            transitions or updates that are likely to be relevant to a user
            looking at the current version of the resource.
          items:
            $ref: 'https://fhir.opennz.org/Reference'
          type: array
      additionalProperties: false
      required:
        - subject
        - resourceType
    MedicationRequest_DispenseRequest:
      description: >-
        An order or request for both supply of the medication and the instructions
        for administration of the medication to a patient. The resource is called
        "MedicationRequest" rather than "MedicationPrescription" or
        "MedicationOrder" to generalize the use across inpatient and outpatient
        settings, including care plans, etc., and to harmonize with workflow
        patterns.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        initialFill:
          # description: >-
          #   Indicates the quantity or duration for the first dispense of the
          #   medication.
          $ref: 'https://fhir.opennz.org/MedicationRequest_InitialFill'
        dispenseInterval:
          # description: >-
          #   The minimum period of time that must occur between dispenses of the
          #   medication.
          $ref: 'https://fhir.opennz.org/Duration'
        validityPeriod:
          # description: >-
          #   This indicates the validity period of a prescription (stale dating the
          #   Prescription).
          $ref: 'https://fhir.opennz.org/Period'
        numberOfRepeatsAllowed:
          # description: >-
          #   An integer indicating the number of times, in addition to the original
          #   dispense, (aka refills or repeats) that the patient can receive the
          #   prescribed medication. Usage Notes: This integer does not include the
          #   original order dispense. This means that if an order indicates
          #   dispense 30 tablets plus "3 repeats", then the order can be dispensed
          #   a total of 4 times and the patient can receive a total of 120
          #   tablets.  A prescriber may explicitly say that zero refills are
          #   permitted after the initial dispense.
          $ref: 'https://fhir.opennz.org/unsignedInt'
        _numberOfRepeatsAllowed:
          # description: Extensions for numberOfRepeatsAllowed
          $ref: 'https://fhir.opennz.org/Element'
        quantity:
          # description: The amount that is to be dispensed for one fill.
          $ref: 'https://fhir.opennz.org/Quantity'
        expectedSupplyDuration:
          # description: >-
          #   Identifies the period time over which the supplied product is expected
          #   to be used, or the length of time the dispense is expected to last.
          $ref: 'https://fhir.opennz.org/Duration'
        performer:
          # description: >-
          #   Indicates the intended dispensing Organization specified by the
          #   prescriber.
          $ref: 'https://fhir.opennz.org/Reference'
      additionalProperties: false
    MedicationRequest_InitialFill:
      description: >-
        An order or request for both supply of the medication and the instructions
        for administration of the medication to a patient. The resource is called
        "MedicationRequest" rather than "MedicationPrescription" or
        "MedicationOrder" to generalize the use across inpatient and outpatient
        settings, including care plans, etc., and to harmonize with workflow
        patterns.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        quantity:
          # description: The amount or quantity to provide as part of the first dispense.
          $ref: 'https://fhir.opennz.org/Quantity'
        duration:
          # description: The length of time that the first dispense is expected to last.
          $ref: 'https://fhir.opennz.org/Duration'
      additionalProperties: false
    MedicationRequest_Substitution:
      description: >-
        An order or request for both supply of the medication and the instructions
        for administration of the medication to a patient. The resource is called
        "MedicationRequest" rather than "MedicationPrescription" or
        "MedicationOrder" to generalize the use across inpatient and outpatient
        settings, including care plans, etc., and to harmonize with workflow
        patterns.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        allowedBoolean:
          description: >-
            True if the prescriber allows a different drug to be dispensed from
            what was prescribed.
          pattern: ^true|false$
          type: boolean
        _allowedBoolean:
          # description: Extensions for allowedBoolean
          $ref: 'https://fhir.opennz.org/Element'
        allowedCodeableConcept:
          # description: >-
          #   True if the prescriber allows a different drug to be dispensed from
          #   what was prescribed.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        reason:
          # description: >-
          #   Indicates the reason for the substitution, or why substitution must or
          #   must not be performed.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
      additionalProperties: false
    Meta:
      description: >-
        The metadata about a resource. This is content in the resource that is
        maintained by the infrastructure. Changes to the content might not always
        be associated with version changes to the resource.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        versionId:
          # description: >-
          #   The version specific identifier, as it appears in the version portion
          #   of the URL. This value changes when the resource is created, updated,
          #   or deleted.
          $ref: 'https://fhir.opennz.org/id'
        _versionId:
          # description: Extensions for versionId
          $ref: 'https://fhir.opennz.org/Element'
        lastUpdated:
          # description: When the resource last changed - e.g. when the version changed.
          $ref: 'https://fhir.opennz.org/instant'
        _lastUpdated:
          # description: Extensions for lastUpdated
          $ref: 'https://fhir.opennz.org/Element'
        source:
          # description: >-
          #   A uri that identifies the source system of the resource. This provides
          #   a minimal amount of [[[Provenance]]] information that can be used to
          #   track or differentiate the source of information in the resource. The
          #   source may identify another FHIR server, document, message, database,
          #   etc.
          $ref: 'https://fhir.opennz.org/uri'
        _source:
          # description: Extensions for source
          $ref: 'https://fhir.opennz.org/Element'
        profile:
          description: >-
            A list of profiles (references to [[[StructureDefinition]]] resources)
            that this resource claims to conform to. The URL is a reference to
            [[[StructureDefinition.url]]].
          items:
            $ref: 'https://fhir.opennz.org/canonical'
          type: array
        security:
          description: >-
            Security labels applied to this resource. These tags connect specific
            resources to the overall security policy and infrastructure.
          items:
            $ref: 'https://fhir.opennz.org/Coding'
          type: array
        tag:
          description: >-
            Tags applied to this resource. Tags are intended to be used to
            identify and relate resources to process and workflow, and
            applications are not required to consider the tags when interpreting
            the meaning of a resource.
          items:
            $ref: 'https://fhir.opennz.org/Coding'
          type: array
      additionalProperties: false
    Money:
      description: An amount of economic utility in some recognized currency.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        value:
          # description: Numerical value (with implicit precision).
          $ref: 'https://fhir.opennz.org/decimal'
        _value:
          # description: Extensions for value
          $ref: 'https://fhir.opennz.org/Element'
        currency:
          # description: ISO 4217 Currency Code.
          $ref: 'https://fhir.opennz.org/code'
        _currency:
          # description: Extensions for currency
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false

    Narrative:
      description: >-
        A human-readable summary of the resource conveying the essential clinical
        and business information for the resource.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        status:
          description: >-
            The status of the narrative - whether it's entirely generated (from
            just the defined data or the extensions too), or whether a human
            authored it and it may contain additional data.
          enum:
            - generated
            - extensions
            - additional
            - empty
        _status:
          # description: Extensions for status
          $ref: 'https://fhir.opennz.org/Element'
        div:
          # description: The actual narrative content, a stripped down version of XHTML.
          $ref: 'https://fhir.opennz.org/xhtml'
      additionalProperties: false
      required:
        - div

    # OperationOutcome:
    #   description: >-
    #     A collection of error, warning, or information messages that result from a
    #     system action.
    #   properties:
    #     resourceType:
    #       description: This is a OperationOutcome resource
    #       const: OperationOutcome
    #     id:
    #       description: >-
    #         The logical id of the resource, as used in the URL for the resource.
    #         Once assigned, this value never changes.
    #       $ref: 'https://fhir.opennz.org/id'
    #     meta:
    #       description: >-
    #         The metadata about the resource. This is content that is maintained by
    #         the infrastructure. Changes to the content might not always be
    #         associated with version changes to the resource.
    #       $ref: 'https://fhir.opennz.org/Meta'
    #     implicitRules:
    #       description: >-
    #         A reference to a set of rules that were followed when the resource was
    #         constructed, and which must be understood when processing the content.
    #         Often, this is a reference to an implementation guide that defines the
    #         special rules along with other profiles etc.
    #       $ref: 'https://fhir.opennz.org/uri'
    #     _implicitRules:
    #       description: Extensions for implicitRules
    #       $ref: 'https://fhir.opennz.org/Element'
    #     language:
    #       description: The base language in which the resource is written.
    #       $ref: 'https://fhir.opennz.org/code'
    #     _language:
    #       description: Extensions for language
    #       $ref: 'https://fhir.opennz.org/Element'
    #     text:
    #       description: >-
    #         A human-readable narrative that contains a summary of the resource and
    #         can be used to represent the content of the resource to a human. The
    #         narrative need not encode all the structured data, but is required to
    #         contain sufficient detail to make it "clinically safe" for a human to
    #         just read the narrative. Resource definitions may define what content
    #         should be represented in the narrative to ensure clinical safety.
    #       $ref: 'https://fhir.opennz.org/Narrative'
    #     contained:
    #       description: >-
    #         These resources do not have an independent existence apart from the
    #         resource that contains them - they cannot be identified independently,
    #         and nor can they have their own independent transaction scope.
    #       items:
    #         $ref: 'https://fhir.opennz.org/ResourceList'
    #       type: array
    #     extension:
    #       description: >-
    #         May be used to represent additional information that is not part of
    #         the basic definition of the resource. To make the use of extensions
    #         safe and manageable, there is a strict set of governance  applied to
    #         the definition and use of extensions. Though any implementer can
    #         define an extension, there is a set of requirements that SHALL be met
    #         as part of the definition of the extension.
    #       items:
    #         $ref: 'https://fhir.opennz.org/Extension'
    #       type: array
    #     modifierExtension:
    #       description: >-
    #         May be used to represent additional information that is not part of
    #         the basic definition of the resource and that modifies the
    #         understanding of the element that contains it and/or the understanding
    #         of the containing element's descendants. Usually modifier elements
    #         provide negation or qualification. To make the use of extensions safe
    #         and manageable, there is a strict set of governance applied to the
    #         definition and use of extensions. Though any implementer is allowed to
    #         define an extension, there is a set of requirements that SHALL be met
    #         as part of the definition of the extension. Applications processing a
    #         resource are required to check for modifier extensions.


    #         Modifier extensions SHALL NOT change the meaning of any elements on
    #         Resource or DomainResource (including cannot change the meaning of
    #         modifierExtension itself).
    #       items:
    #         $ref: 'https://fhir.opennz.org/Extension'
    #       type: array
    #     issue:
    #       description: >-
    #         An error, warning, or information message that results from a system
    #         action.
    #       items:
    #         $ref: 'https://fhir.opennz.org/OperationOutcome_Issue'
    #       type: array
    #   additionalProperties: false
    #   required:
    #     - issue
    #     - resourceType
    OperationOutcome: 
      description: "A collection of error, warning, or information messages that result from a system action."
      properties: 
        resourceType: 
          description: "This is a OperationOutcome resource"
          default: "OperationOutcome"
        id: 
          # description: "The logical id of the resource, as used in the URL for the resource. Once assigned, this value never changes."
          $ref: "https://fhir.opennz.org/id"
        meta: 
          # description: "The metadata about the resource. This is content that is maintained by the infrastructure. Changes to the content might not always be associated with version changes to the resource."
          $ref: "https://fhir.opennz.org/Meta"
        text: 
          # description: "A human-readable narrative that contains a summary of the resource and can be used to represent the content of the resource to a human. The narrative need not encode all the structured data, but is required to contain sufficient detail to make it clinically safe for a human to just read the narrative. Resource definitions may define what content should be represented in the narrative to ensure clinical safety."
          $ref: "https://fhir.opennz.org/Narrative"
        issue: 
          description: "An error, warning, or information message that results from a system action."
          items: 
            $ref: "https://fhir.opennz.org/OperationOutcome_Issue"
          type: "array"
      additionalProperties: false
      required: 
      - "issue"
      - "resourceType"
    OperationOutcome_Issue:
      description: >-
        A collection of error, warning, or information messages that result from a
        system action.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        modifierExtension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element and that modifies the
            understanding of the element in which it is contained and/or the
            understanding of the containing element's descendants. Usually
            modifier elements provide negation or qualification. To make the use
            of extensions safe and manageable, there is a strict set of governance
            applied to the definition and use of extensions. Though any
            implementer can define an extension, there is a set of requirements
            that SHALL be met as part of the definition of the extension.
            Applications processing a resource are required to check for modifier
            extensions.


            Modifier extensions SHALL NOT change the meaning of any elements on
            Resource or DomainResource (including cannot change the meaning of
            modifierExtension itself).
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        severity:
          description: >-
            Indicates whether the issue indicates a variation from successful
            processing.
          enum:
            - fatal
            - error
            - warning
            - information
        _severity:
          # description: Extensions for severity
          $ref: 'https://fhir.opennz.org/Element'
        code:
          description: >-
            Describes the type of the issue. The system that creates an
            OperationOutcome SHALL choose the most applicable code from the
            IssueType value set, and may additional provide its own code for the
            error in the details element.
          enum:
            - invalid
            - structure
            - required
            - value
            - invariant
            - security
            - login
            - unknown
            - expired
            - forbidden
            - suppressed
            - processing
            - not-supported
            - duplicate
            - multiple-matches
            - not-found
            - deleted
            - too-long
            - code-invalid
            - extension
            - too-costly
            - business-rule
            - conflict
            - transient
            - lock-error
            - no-store
            - exception
            - timeout
            - incomplete
            - throttled
            - informational
        _code:
          # description: Extensions for code
          $ref: 'https://fhir.opennz.org/Element'
        details:
          # description: >-
          #   Additional details about the error. This may be a text description of
          #   the error or a system code that identifies the error.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        diagnostics:
          # description: Additional diagnostic information about the issue.
          $ref: 'https://fhir.opennz.org/string'
        _diagnostics:
          # description: Extensions for diagnostics
          $ref: 'https://fhir.opennz.org/Element'
        location:
          description: >-
            This element is deprecated because it is XML specific. It is replaced
            by issue.expression, which is format independent, and simpler to
            parse. 


            For resource issues, this will be a simple XPath limited to element
            names, repetition indicators and the default child accessor that
            identifies one of the elements in the resource that caused this issue
            to be raised.  For HTTP errors, will be "http." + the parameter name.
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _location:
          description: Extensions for location
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
        expression:
          description: >-
            A [simple subset of FHIRPath](fhirpath.html#simple) limited to element
            names, repetition indicators and the default child accessor that
            identifies one of the elements in the resource that caused this issue
            to be raised.
          items:
            $ref: 'https://fhir.opennz.org/string'
          type: array
        _expression:
          description: Extensions for expression
          items:
            $ref: 'https://fhir.opennz.org/Element'
          type: array
      additionalProperties: false

    positiveInt:
      pattern: ^[1-9][0-9]*$
      type: number
      description: An integer with a value that is positive (e.g. >0)
    ParameterDefinition:
      description: >-
        The parameters to the module. This collection specifies both the input and
        output parameters. Input parameters are provided by the caller as part of
        the $evaluate operation. Output parameters are included in the
        GuidanceResponse.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        name:
          # description: >-
          #   The name of the parameter used to allow access to the value of the
          #   parameter in evaluation contexts.
          $ref: 'https://fhir.opennz.org/code'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        use:
          # description: Whether the parameter is input or output for the module.
          $ref: 'https://fhir.opennz.org/code'
        _use:
          # description: Extensions for use
          $ref: 'https://fhir.opennz.org/Element'
        min:
          # description: >-
          #   The minimum number of times this parameter SHALL appear in the request
          #   or response.
          $ref: 'https://fhir.opennz.org/integer'
        _min:
          # description: Extensions for min
          $ref: 'https://fhir.opennz.org/Element'
        max:
          # description: >-
          #   The maximum number of times this element is permitted to appear in the
          #   request or response.
          $ref: 'https://fhir.opennz.org/string'
        _max:
          # description: Extensions for max
          $ref: 'https://fhir.opennz.org/Element'
        documentation:
          # description: >-
          #   A brief discussion of what the parameter is for and how it is used by
          #   the module.
          $ref: 'https://fhir.opennz.org/string'
        _documentation:
          # description: Extensions for documentation
          $ref: 'https://fhir.opennz.org/Element'
        type:
          # description: The type of the parameter.
          $ref: 'https://fhir.opennz.org/code'
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        profile:
          # description: >-
          #   If specified, this indicates a profile that the input data must
          #   conform to, or that the output data will conform to.
          $ref: 'https://fhir.opennz.org/canonical'
      additionalProperties: false
    Period:
      type: "object"
      properties:
        start:
          $ref: "https://fhir.opennz.org/dateTime"
        end:
          $ref: "https://fhir.opennz.org/dateTime"
        id:
          $ref: "https://fhir.opennz.org/string"
      additionalProperties: false
      description: "A time period defined by a start and end date and optionally time."

    Quantity:
      type: object
      properties:
        value:
          type: number
          description: Numerical value
        comparator:
          type: string
          enum: ["<", "<=", ">=", ">"]
          description: How the value should be compared to a target value
        unit:
          type: string
          description: Unit representation
        system:
          type: string
          description: The identification of the system
        code:
          type: string
          description: A symbol in syntax defined by the system

    Range:
      type: object
      properties:
        low:
          # description: Low limit
          $ref: 'https://fhir.opennz.org/Quantity'
        high:
          # description: High limit
          $ref: 'https://fhir.opennz.org/Quantity'
    Ratio:
      type: object
      properties:
        lowNumerator:
          # description: Low Numerator limit
          $ref: 'https://fhir.opennz.org/Quantity'
        highNumerator:
          # description: High Numerator limit
          $ref: 'https://fhir.opennz.org/Quantity'
        denominator:
          # description: Denominator value
          $ref: 'https://fhir.opennz.org/Quantity'

    RelatedArtifact:
      description: >-
        Related artifacts such as additional documentation, justification, or
        bibliographic references.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        type:
          description: The type of relationship to the related artifact.
          enum:
            - documentation
            - justification
            - citation
            - predecessor
            - successor
            - derived-from
            - depends-on
            - composed-of
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        label:
          # description: >-
          #   A short label that can be used to reference the citation from
          #   elsewhere in the containing artifact, such as a footnote index.
          $ref: 'https://fhir.opennz.org/string'
        _label:
          # description: Extensions for label
          $ref: 'https://fhir.opennz.org/Element'
        display:
          # description: >-
          #   A brief description of the document or knowledge resource being
          #   referenced, suitable for display to a consumer.
          $ref: 'https://fhir.opennz.org/string'
        _display:
          # description: Extensions for display
          $ref: 'https://fhir.opennz.org/Element'
        citation:
          # description: >-
          #   A bibliographic citation for the related artifact. This text SHOULD be
          #   formatted according to an accepted citation format.
          $ref: 'https://fhir.opennz.org/markdown'
        _citation:
          # description: Extensions for citation
          $ref: 'https://fhir.opennz.org/Element'
        url:
          # description: >-
          #   A url for the artifact that can be followed to access the actual
          #   content.
          $ref: 'https://fhir.opennz.org/url'
        _url:
          # description: Extensions for url
          $ref: 'https://fhir.opennz.org/Element'
        document:
          # description: >-
          #   The document being referenced, represented as an attachment. This is
          #   exclusive with the resource element.
          $ref: 'https://fhir.opennz.org/Attachment'
        resource:
          # description: >-
          #   The related resource, such as a library, value set, profile, or other
          #   knowledge resource.
          $ref: 'https://fhir.opennz.org/canonical'
      additionalProperties: false
    Reference:
      type: "object"
      properties:
        reference:
          $ref: "https://fhir.opennz.org/string"
        display:
          $ref: "https://fhir.opennz.org/string"
        id:
          $ref: "https://fhir.opennz.org/string"
        type:
          $ref: "https://fhir.opennz.org/uri"
      additionalProperties: false
      description: "A reference from one resource to another."
    ResourceList:
      oneOf:
        - $ref: 'https://fhir.opennz.org/CapabilityStatement'
        - $ref: 'https://fhir.opennz.org/MedicationDispense'
        - $ref: 'https://fhir.opennz.org/MedicationRequest'
        - $ref: 'https://fhir.opennz.org/OperationOutcome'

    string:
      pattern: "^[ \\r\\n\\t\\S]+$"
      type: "string"
      description: "A sequence of Unicode characters"
    SampledData:
      description: >-
        A series of measurements taken by a device, with upper and lower limits.
        There may be more than one dimension in the data.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        origin:
          # description: >-
          #   The base quantity that a measured value of zero represents. In
          #   addition, this provides the units of the entire measurement series.
          $ref: 'https://fhir.opennz.org/Quantity'
        period:
          # description: The length of time between sampling times, measured in milliseconds.
          $ref: 'https://fhir.opennz.org/decimal'
        _period:
          # description: Extensions for period
          $ref: 'https://fhir.opennz.org/Element'
        factor:
          # description: >-
          #   A correction factor that is applied to the sampled data points before
          #   they are added to the origin.
          $ref: 'https://fhir.opennz.org/decimal'
        _factor:
          # description: Extensions for factor
          $ref: 'https://fhir.opennz.org/Element'
        lowerLimit:
          # description: >-
          #   The lower limit of detection of the measured points. This is needed if
          #   any of the data points have the value "L" (lower than detection
          #   limit).
          $ref: 'https://fhir.opennz.org/decimal'
        _lowerLimit:
          # description: Extensions for lowerLimit
          $ref: 'https://fhir.opennz.org/Element'
        upperLimit:
          # description: >-
          #   The upper limit of detection of the measured points. This is needed if
          #   any of the data points have the value "U" (higher than detection
          #   limit).
          $ref: 'https://fhir.opennz.org/decimal'
        _upperLimit:
          # description: Extensions for upperLimit
          $ref: 'https://fhir.opennz.org/Element'
        dimensions:
          # description: >-
          #   The number of sample points at each time point. If this value is
          #   greater than one, then the dimensions will be interlaced - all the
          #   sample points for a point in time will be recorded at once.
          $ref: 'https://fhir.opennz.org/positiveInt'
        _dimensions:
          # description: Extensions for dimensions
          $ref: 'https://fhir.opennz.org/Element'
        data:
          # description: >-
          #   A series of data points which are decimal values separated by a single
          #   space (character u20). The special values "E" (error), "L" (below
          #   detection limit) and "U" (above detection limit) can also be used in
          #   place of a decimal value.
          $ref: 'https://fhir.opennz.org/string'
        _data:
          # description: Extensions for data
          $ref: 'https://fhir.opennz.org/Element'
      additionalProperties: false
      required:
        - origin

    Timing:
      type: object
      properties:
        event:
          type: array
          items:
            type: string
            format: date-time
          description: When the event occurs
        repeat:
          type: object
          properties:
            count:
              type: integer
              minimum: 0
              description: Number of times to repeat
            countMax:
              type: integer
              minimum: 0
              description: Maximum number of times to repeat
            duration:
              type: number
              description: How long when it happens
            durationMax:
              type: number
              description: How long when it happens (Max)
            durationUnit:
              type: string
              description: Unit of time (UCUM)
            frequency:
              type: integer
              minimum: 0
              description: Indicates the number of repetitions that should occur within a period. Event occurs frequency times per period
            frequencyMax:
              type: integer
              minimum: 0
              description: Event occurs up to frequencyMax times per period
            period:
              type: number
              description: The duration to which the frequency applies. Event occurs frequency times per period
            periodMax:
              type: number
              description: Upper limit of period (3-4 hours)
            periodUnit:
              type: string
              description: Unit of time (UCUM)
            dayOfWeek:
              type: array
              items:
                type: string
                enum:
                  - mon
                  - tue
                  - wed
                  - thu
                  - fri
                  - sat
                  - sun
              description: Day of week for action
            timeOfDay:
              type: array
              items:
                type: string
                format: time
              description: Time of day for action
            when:
              type: array
              items:
                type: string
              description: Code for time period of occurrence
            offset:
              type: integer
              minimum: 0
              description: Minutes from event (before or after)
          description: When the event is to occur
        code:
          # description: Code for the timing schedule
          $ref: "https://fhir.opennz.org/CodeableConcept"
      required:
        - event

    TriggerDefinition:
      description: >-
        A description of a triggering event. Triggering events can be named
        events, data events, or periodic, as determined by the type element.
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        type:
          description: The type of triggering event.
          enum:
            - named-event
            - periodic
            - data-changed
            - data-added
            - data-modified
            - data-removed
            - data-accessed
            - data-access-ended
        _type:
          # description: Extensions for type
          $ref: 'https://fhir.opennz.org/Element'
        name:
          # description: >-
          #   A formal name for the event. This may be an absolute URI that
          #   identifies the event formally (e.g. from a trigger registry), or a
          #   simple relative URI that identifies the event in a local context.
          $ref: 'https://fhir.opennz.org/string'
        _name:
          # description: Extensions for name
          $ref: 'https://fhir.opennz.org/Element'
        timingTiming:
          # description: The timing of the event (if this is a periodic trigger).
          $ref: 'https://fhir.opennz.org/Timing'
        timingReference:
          # description: The timing of the event (if this is a periodic trigger).
          $ref: 'https://fhir.opennz.org/Reference'
        timingDate:
          description: The timing of the event (if this is a periodic trigger).
          pattern: >-
            ^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1]))?)?$
          type: string
        _timingDate:
          # description: Extensions for timingDate
          $ref: 'https://fhir.opennz.org/Element'
        timingDateTime:
          description: The timing of the event (if this is a periodic trigger).
          pattern: >-
            ^([0-9]([0-9]([0-9][1-9]|[1-9]0)|[1-9]00)|[1-9]000)(-(0[1-9]|1[0-2])(-(0[1-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?$
          type: string
        _timingDateTime:
          # description: Extensions for timingDateTime
          $ref: 'https://fhir.opennz.org/Element'
        data:
          description: >-
            The triggering data of the event (if this is a data trigger). If more
            than one data is requirement is specified, then all the data
            requirements must be true.
          items:
            $ref: 'https://fhir.opennz.org/DataRequirement'
          type: array
        condition:
          # description: >-
          #   A boolean-valued expression that is evaluated in the context of the
          #   container of the trigger definition and returns whether or not the
          #   trigger fires.
          $ref: 'https://fhir.opennz.org/Expression'
      additionalProperties: false
    unsignedInt:
      pattern: ^[0]|([1-9][0-9]*)$
      type: number
      description: An integer with a value that is not negative (e.g. >= 0)
    uri:
      pattern: "^\\S*$"
      type: "string"
      description: "String of characters used to identify a name or a resource"
    url:
      pattern: ^\S*$
      type: string
      description: A URI that is a literal reference
    UsageContext:
      description: >-
        Specifies clinical/business/etc. metadata that can be used to retrieve,
        index and/or categorize an artifact. This metadata can either be specific
        to the applicable population (e.g., age category, DRG) or the specific
        context of care (e.g., venue, care setting, provider of care).
      properties:
        id:
          # description: >-
          #   Unique id for the element within a resource (for internal references).
          #   This may be any string value that does not contain spaces.
          $ref: 'https://fhir.opennz.org/string'
        extension:
          description: >-
            May be used to represent additional information that is not part of
            the basic definition of the element. To make the use of extensions
            safe and manageable, there is a strict set of governance  applied to
            the definition and use of extensions. Though any implementer can
            define an extension, there is a set of requirements that SHALL be met
            as part of the definition of the extension.
          items:
            $ref: 'https://fhir.opennz.org/Extension'
          type: array
        code:
          # description: >-
          #   A code that identifies the type of context being specified by this
          #   usage context.
          $ref: 'https://fhir.opennz.org/Coding'
        valueCodeableConcept:
          # description: >-
          #   A value that defines the context specified in this context of use. The
          #   interpretation of the value is defined by the code.
          $ref: 'https://fhir.opennz.org/CodeableConcept'
        valueQuantity:
          # description: >-
          #   A value that defines the context specified in this context of use. The
          #   interpretation of the value is defined by the code.
          $ref: 'https://fhir.opennz.org/Quantity'
        valueRange:
          # description: >-
          #   A value that defines the context specified in this context of use. The
          #   interpretation of the value is defined by the code.
          $ref: 'https://fhir.opennz.org/Range'
        valueReference:
          # description: >-
          #   A value that defines the context specified in this context of use. The
          #   interpretation of the value is defined by the code.
          $ref: 'https://fhir.opennz.org/Reference'
      additionalProperties: false
      required:
        - code

    xhtml:
      description: xhtml - escaped html (see specfication)
